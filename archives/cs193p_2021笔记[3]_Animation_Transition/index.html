<!DOCTYPE HTML>
<html lang="english">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <meta name="HandheldFriendly" content="true">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Maverick,AlanDecode,Galileo,blog" />
    <meta name="generator" content="Maverick 1.2.1" />
    <meta name="template" content="Prism" />
    <link rel="alternate" type="application/rss+xml" title="walker's code blog &raquo; RSS 2.0" href="/feed/index.xml" />
    <link rel="alternate" type="application/atom+xml" title="walker's code blog &raquo; ATOM 1.0" href="/feed/atom/index.xml" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/assets/prism-b9d78ff38a.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/assets/ExSearch/ExSearch-182e5a8869.css">
    <link href="https://fonts.googleapis.com/css?family=Fira+Code&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
    <script>
        var ExSearchConfig = {
            root: "",
            api: "https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/40cba7715e63db76fe2969c8abddf3cd.json"
        }

    </script>
    
<title>cs193p_2021ç¬”è®°[3]_Animation_Transition - walker's code blog</title>
<meta name="author" content="walker" />
<meta name="description" content="cs193p_2021_ç¬”è®°_1" />
<meta property="og:title" content="cs193p_2021ç¬”è®°[3]_Animation_Transition - walker's code blog" />
<meta property="og:description" content="cs193p_2021_ç¬”è®°_1" />
<meta property="og:site_name" content="walker's code blog" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/archives/cs193p_2021%E7%AC%94%E8%AE%B0%5B3%5D_Animation_Transition/" />
<meta property="og:image" content="" />
<meta property="article:published_time" content="2021-10-24T02:00:00-00.00" />
<meta name="twitter:title" content="cs193p_2021ç¬”è®°[3]_Animation_Transition - walker's code blog" />
<meta name="twitter:description" content="cs193p_2021_ç¬”è®°_1" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="" />


    
</head>

<body>
    <div class="container prism-container">
        <header class="prism-header" id="prism__header">
            <h1 class="text-uppercase brand"><a class="no-link" href="/" target="_self">walker's code blog</a></h1>
            <p>coder, reader</p>
            <nav class="prism-nav"><ul><li><a class="no-link text-uppercase " href="/" target="_self">Home</a></li><li><a class="no-link text-uppercase " href="/archives/" target="_self">Archives</a></li><li><a class="no-link text-uppercase " href="/about/" target="_self">About</a></li><li><a href="#" target="_self" class="search-form-input no-link text-uppercase">Search</a></li></ul></nav>
        </header>
        <div class="prism-wrapper" id="prism__wrapper">
            
<main>
    <section class="prism-section row" id="prism__content">
        <article class="yue col-md-8 offset-md-2">
            <h1 class="prism-post-title">cs193p_2021ç¬”è®°[3]_Animation_Transition</h1>
            <div class="prism-post-time">
                <time class="text-uppercase">
                    October 24 2021
                </time>
            </div>
            <div class="prism-content-body">
                <p><a href="https://www.jianshu.com/p/998b0ef4a2cd">cs193p_2021_ç¬”è®°_1</a>
<a href="https://www.jianshu.com/p/af0ad1bead34">cs193p_2021_ç¬”è®°_2</a>
cs193p_2021_ç¬”è®°_3_Animation_Transition
<a href="https://www.jianshu.com/p/41e7309c7f55">cs193p_2021_ç¬”è®°_4_Color_Image_Gesture</a>
<a href="https://www.jianshu.com/p/e3c2ee1628c6">cs193p_2021_ç¬”è®°_5_Property Wrapper</a>
<a href="https://www.jianshu.com/p/a315274a4fd2">cs193p_2021_ç¬”è®°_6_Persistence</a>
<a href="https://www.jianshu.com/p/f4ae879eef9c">cs193p_2021_ç¬”è®°_7_Document Architecture</a>
<a href="https://www.jianshu.com/p/2136bdc2c6f6">cs193p_2021_ç¬”è®°_8</a></p><hr />
<h1>Animation</h1>
<ul>
<li>One way to do animation is by animating a Shape.</li>
<li>The other way to do animation is to animate Views via their <code>ViewModifiers</code>.</li>
<li>Only <code>changes</code> can be animated<ul>
<li>ViewModifier arguments (not all, i.e. fonts)</li>
<li>Shapes</li>
<li>the <em>existance</em> of a View in the UI<ul>
<li>æ¯”å¦‚if-elseå’ŒForEach</li>
</ul>
</li>
</ul>
</li>
<li>You can only animate changes to Views in <em>containers that are already on screen</em> (<code>CTAAOS</code>).</li>
</ul>
<p>ä¸¤ä¸ªgolden rule:</p><ol>
<li>è¦æœ‰view modifierçš„å±æ€§å˜åŒ–</li>
<li>è¦åœ¨å±å¹•ä¸Š</li>
</ol>
<p>æ‰ä¼šè§¦å‘åŠ¨ç”»ï¼ˆå…¶å®å°±æ˜¯ä¸Šé¢çš„æœ€åä¸¤æ¡ï¼‰</p><ul>
<li>è¯¾ç¨‹çš„åŠ¨ç”»ä¾‹å­é‡Œï¼Œç”¨äº†if-elseæ¥ç”Ÿæˆviewï¼Œè¿™æ ·å¯¼è‡´äº†æ–°ç”Ÿæˆçš„viewä¸ä¼šè§¦å‘åŠ¨ç”»</li>
<li>æ¯”å¦‚ç‚¹å¼€ä¸¤å¼ ç‰Œï¼Œæ–°ç‚¹å¼€çš„é‚£å¼ ç‰Œç”±äºä¹‹å‰ç‰Œçš„å†…å®¹å¹¶æ²¡æœ‰å‡ºç°åœ¨å±å¹•ä¸Šï¼Œå¯¼è‡´åŠ¨ç”»æ²¡æœ‰è§¦å‘</li>
<li>æ‰€ä»¥æŠŠviewçš„ç»“æ„ç”±if-elseçš„ç”Ÿæˆå’Œé”€æ¯æœºåˆ¶ï¼Œå˜æˆäº†é€æ˜åº¦åˆ‡æ¢æœºåˆ¶<ul>
<li>å³æ­£é¢å’Œåé¢éƒ½åœ¨å±å¹•ä¸Šï¼Œåªä¸è¿‡é€æ˜åº¦ç›¸åï¼Œä»¥åœ¨è§†è§‰ä¸Šè¦ä¹ˆæ˜¯æ­£é¢è¦ä¹ˆæ˜¯åé¢</li>
<li>æœ¬ä»¥ä¸ºé€æ˜åº¦ä¸º0å°±ä¼šé”€æ¯è§†å›¾(UIKitï¼Ÿ)ï¼Œçœ‹æ ·å­å¹¶ä¸æ˜¯è¿™æ ·çš„ï¼Œå¤§èƒ†ç”¨opacityå°±å¥½äº†</li>
</ul>
</li>
</ul>
<h2>éšå¼è°ƒç”¨</h2>
<div class="highlight"><pre><span></span><span class="n">Text</span><span class="p">(</span><span class="err">â€œğŸ‘»</span> <span class="err">â€</span><span class="p">)</span>
    <span class="p">.</span><span class="n">opacity</span><span class="p">(</span><span class="n">scary</span> <span class="p">?</span> <span class="mi">1</span> <span class="p">:</span> <span class="mi">0</span><span class="p">)</span>                             <span class="c1">// æ™®é€šmodifier, å³å¦‚æœæ²¡æœ‰åŠ¨ç”»ï¼Œä¹Ÿéœ€è¦çš„çŠ¶æ€ï¼ˆå³ä»£ç ä¹Ÿä¸ä¼šåˆ ï¼‰</span>
    <span class="p">.</span><span class="n">rotationEffect</span><span class="p">(</span><span class="n">Angle</span><span class="p">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">upsideDown</span> <span class="p">?</span> <span class="mi">180</span> <span class="p">:</span> <span class="mi">0</span><span class="p">))</span>    <span class="c1">// åŠ¨ç”»modifierï¼Œå³å®šåˆ¶çš„åŠ¨ç”»æ•ˆæœï¼Œä¸éœ€è¦åŠ¨ç”»çš„æ—¶å€™ï¼Œå°±ä¸éœ€è¦è¿™ä¸€è¡Œ</span>
    <span class="p">.</span><span class="n">animation</span><span class="p">(</span><span class="n">Animation</span><span class="p">.</span><span class="n">easeInOut</span><span class="p">)</span>                         <span class="c1">// è§¦å‘</span>
</pre></div>
<ul>
<li>ä¸Šè¿°æ‰€æœ‰<code>ViewModifier</code>éƒ½ä¼šè¢«åŠ¨ç”»<ul>
<li><code>scary, upsideDown</code>ç­‰å€¼æ”¹å˜æ—¶ä¹Ÿä¼šè§¦å‘åŠ¨ç”»</li>
</ul>
</li>
<li>éšå¼è°ƒç”¨ä¼šå†’æ³¡ï¼ˆæ‰€ä»¥ä¸è¦å¯¹ä¸€ä¸ªcontainer viewåš<code>.animation</code>ï¼Œè¿˜æœ‰å®šä½çš„é—®é¢˜)</li>
<li>animationçš„å‚æ•°å°±æ˜¯ä¸€ä¸ªstructï¼š duration, delay, repeat, curve...</li>
</ul>
<p>å¯¹äºä¸èƒ½åŠ¨ç”»çš„modifierï¼Œçœ‹ä¸€ä¸‹è¿™ä¸ªå®ä¾‹ï¼ˆä¸Šä¸ºä¿®æ”¹å‰ï¼Œä¸‹ä¸ºä¿®æ”¹åï¼‰
<figure  style="flex: 51.452991452991455" ><img width="1204" height="1170" src="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/archives/assets/4804373fb223c0a4333d720331093521.png" alt=""/></figure></p><ol>
<li>æŠŠfontè®¾ä¸ºå¸¸é‡ï¼ŒæŠŠç¼©æ”¾å˜æˆä¸€ä¸ªgeometric effect</li>
<li>åŒæ—¶ä¹Ÿè¯´æ˜<code>.animation()</code>ä¸æ­¢ä½œç”¨äºå®ƒå‰é¢çš„</li>
</ol>
<h2>æ˜¾å¼è°ƒç”¨</h2>
<div class="highlight"><pre><span></span><span class="n">withAnimation</span><span class="p">(.</span><span class="n">linear</span><span class="p">(</span><span class="n">duration</span><span class="p">:</span> <span class="mi">2</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// do something that will cause ViewModifier/Shape arguments to </span>
<span class="n">change</span> <span class="n">somewhere</span> <span class="p">}</span>
</pre></div>
<ul>
<li>It will appear in closures like <code>.onTapGesture</code>.</li>
<li>æ˜¾å¼åŠ¨ç”»ä¸ä¼šè¦†ç›–æ‰éšå¼åŠ¨ç”»</li>
<li>å¾ˆå°‘æœ‰å¤„ç†ç”¨æˆ·æ‰‹åŠ¿è€Œä¸åŒ…<code>.withAnimation</code>çš„</li>
</ul>
<h1>Transition</h1>
<ul>
<li>è½¬åœºï¼Œä¸»è¦ç”¨äºviewçš„å‡ºç°å’Œæ¶ˆå¤±</li>
<li>ä¸€å¯¹<code>ViewModifier</code>ï¼Œä¸€ä¸ª<code>before</code>, ä¸€ä¸ª<code>after</code></li>
</ul>
<div class="highlight"><pre><span></span><span class="n">ZStack</span> <span class="p">{</span>
    <span class="k">if</span> <span class="n">isFaceUp</span> <span class="p">{</span>
        <span class="n">RoundedRectangle</span><span class="p">()</span> <span class="c1">// default .transition is .opacity </span>
        <span class="n">Text</span><span class="p">(</span><span class="err">â€œğŸ‘»</span> <span class="err">â€</span><span class="p">).</span><span class="n">transition</span><span class="p">(.</span><span class="n">scale</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">RoundedRectangle</span><span class="p">(</span><span class="n">cornerRadius</span><span class="p">:</span> <span class="mi">10</span><span class="p">).</span><span class="n">transition</span><span class="p">(.</span><span class="n">identity</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p>Unlike .animation(), .transition() does not get redistributed to a containerâ€™s content Views. So putting .transition() on the ZStack above only works if the entire ZStack came/went.</p><p>(Group and ForEach do distribute .transition() to their content Views, however.)</p><p>æ„æ€æ˜¯<code>.transition</code>å¹¶ä¸ä¼šå‘ä¸‹ä¼ é€’ï¼Œå¦‚æœå¯¹<code>ZStack</code>åšè½¬åœºï¼Œåªä¼šæŠŠæ•´ä¸ªå®¹å™¨è¿›è¡Œè½¬åœºè€Œä¸æ˜¯é‡Œé¢çš„viewï¼ˆè§å®ä¾‹äºŒï¼‰</p><ul>
<li>è½¬åœºåªæ˜¯ä¸€ä¸ªå£°æ˜ï¼Œå¹¶æ²¡æœ‰è§¦å‘åŠ¨ç”»ï¼ˆå…¶å®å°±æ˜¯è®¾ç½®äº†<code>ViewModifier</code>ï¼‰</li>
<li>æ‰€ä»¥è½¬åœºæ²¡æœ‰éšå¼è°ƒç”¨</li>
<li>åªå¯¹CTAAOSæœ‰ç”¨</li>
</ul>
<p><code>.onAppear</code>æˆ–<code>.onDisappear</code>æ—¶ï¼Œcontainerå¿…ç„¶æ˜¯åœ¨å±å¹•ä¸Šçš„ï¼Œæ‰€ä»¥è¿™æ˜¯ä¸€ä¸ªå†™<code>.transition</code>çš„å¥½åœ°æ–¹ï¼ˆè®°å¾—è¦<code>withAnimation</code>)</p><p>built-in transitions:</p><ul>
<li>AnyTransition.opacity: é€šè¿‡<code>.opacity</code> modifieræ¥å®ç°æ·¡å…¥æ·¡å‡º</li>
<li>AnyTransition.scale: é€šè¿‡<code>.frame</code> modifieræ¥å®ç°ç¼©æ”¾</li>
<li>AnyTransition.offset(CGSize): é€šè¿‡<code>.offset</code>æ¥å®ç°ç§»åŠ¨</li>
<li>AnyTransition.modifier(active:identity:): ä½ æä¾›ä¸¤ä¸ª<code>ViewModifier</code></li>
</ul>
<p>é€šè¿‡<code>AnyTransition.animation</code>(Animation`)æ¥å®šåˆ¶åŠ¨ç”»ç»†èŠ‚ï¼š</p><div class="highlight"><pre><span></span><span class="p">.</span><span class="n">transition</span><span class="p">(.</span><span class="n">opacity</span><span class="p">.</span><span class="n">animation</span><span class="p">(.</span><span class="n">linear</span><span class="p">(</span><span class="n">duration</span><span class="p">:</span> <span class="mi">20</span><span class="p">)))</span>
</pre></div>
<h1>åŠ¨ç”»æœºåˆ¶</h1>
<p>å…¶å®å°±æ˜¯ç»™å‡ºä¸€ç³»åˆ—çš„æ•°æ®ç‚¹ï¼Œç³»ç»Ÿä¼šæ ¹æ®è¿™äº›æ•°æ®ç‚¹æŠŠæ—¶é—´åˆ‡åˆ†ï¼Œä½ ç»™çš„æ•°æ®ç‚¹è¶Šå¤šï¼Œåˆ‡çš„æ—¶é—´å—ä¹Ÿå°±è¶Šå¤šï¼Œè€Œä¸”ç³»ç»Ÿä¼šæ ¹æ®ä½ çš„çº¿æ€§å‡½æ•°æ¥å†³å®šæ˜¯å¹³å‡è¿˜æ˜¯æ€æ ·å»åˆ‡åˆ†è¿™äº›æ—¶é—´å—ï¼š</p><ul>
<li>the animation system divides the animation duration up into little pieces.</li>
<li>The animation system then tells the Shape/ViewModifier the current piece it should show.</li>
<li>And the Shape/ViewModifier makes sure that its code always reflects that.</li>
</ul>
<p>ç³»ç»Ÿé€šçŸ¥å˜é‡å½“å‰çš„å€¼ï¼ŒUIæ ¹æ®è¿™ä¸ªå€¼å®æ—¶ç»˜åˆ¶å½“å‰çš„Viewï¼Œä¸æ–­é”€æ¯é‡å»ºï¼Œå°±æ˜¯åŠ¨ç”»çš„è¿‡ç¨‹ã€‚</p><p>ç³»ç»Ÿæ˜¯ç”¨ä¸€ä¸ªå˜é‡æ¥é€šçŸ¥è¿™ä¸ªè¿›åº¦çš„ï¼š<code>Animatable</code> protocolçš„å”¯ä¸€æˆå‘˜å˜é‡ï¼š<code>animatableData</code>:</p><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nv">animatableData</span><span class="p">:</span> <span class="kr">Type</span>
</pre></div>
<ul>
<li>Typeåªéœ€è¦æ»¡è¶³<code>VectorArithmetic</code>åè®®ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªå¯ä»¥è¢«ç»†åˆ†çš„å€¼ï¼ŒåŸºæœ¬ä¸Šæ˜¯Float, Double, CGFloatï¼Œä»¥åŠ<code>AnimatablePair</code>(å…¶å®å°±æ˜¯ä¸¤ä¸ª<code>VectorArithmetic</code>)</li>
<li>æƒ³è¦æ”¯æŒåŠ¨ç”»çš„<code>Shape</code>, <code>ViewModifier</code>ï¼Œåªéœ€è¦å®ç°<code>Animatable</code>åè®®å³å¯ï¼ˆå³æä¾›ä¸€ä¸ª<code>animatableData</code>å±æ€§ï¼‰</li>
</ul>
<p>Because itâ€™s communicating both ways, this animatableData is a <code>read-write</code> var.</p><ul>
<li>The <code>setting</code> of this var is the animation system telling the Shape/VM which piece to draw.</li>
<li>The <code>getting</code> of this var is the animation system getting the <code>start/end</code> points of an animation.</li>
</ul>
<p><strong>å®ä¾‹ä¸€</strong></p><figure  style="flex: 73.625" ><img width="1178" height="800" src="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/archives/assets/10d0bb779b10383a36d23d581f2fadb9.png" alt=""/></figure><ul>
<li>view modifieré‡Œé¢æœ‰ä¸€ä¸ªå˜é‡<code>rotation</code>ï¼ˆZStack, content, rotation3DEffect)</li>
<li>é‚£ä¹ˆå¤–å±‚åœ¨<code>withAnimation{}</code>çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ˜¯æœŸæœ›rotationçš„å€¼èƒ½åŠ¨èµ·æ¥çš„<ul>
<li>å†…ç½®çš„viewmodifierå½“ç„¶ä¼šè‡ªå·±åŠ¨ï¼Œå¦‚<code>opacity</code>ç­‰</li>
</ul>
</li>
<li>é‚£ä¹ˆæˆ‘ä»¬é¦–å…ˆå°±è¦è®©<code>Cardify</code> conform to <code>Animatable</code>ï¼ˆä¾‹å­ä¸­çš„AnimatableModifer = Animatable + ViewModifer)</li>
<li>ç„¶åæˆ‘ä»¬å°±è¦å®ç°<code>animatableData</code>, å› ä¸ºç³»ç»Ÿäº‹å®ä¸Šå°±æ˜¯ä¸æ–­å»æ›´æ–°è¿™ä¸ªdataå€¼</li>
<li>æ•™æé‡ŒæŠŠå®ƒè¿›è¡Œäº†å°è£…ï¼ˆå½“ç„¶ä½ ä¹Ÿå¯ä»¥ç›´æ¥ç”¨å®ƒï¼‰ï¼Œè¿™åªæ˜¯æ€ç»´æ–¹å¼ä¸Šçš„åŒºåˆ«</li>
<li><code>animatedData</code>ä¼šéšæ—¶é—´å˜åŒ–ï¼Œè‡ªç„¶ä¼šä¸æ–­invalidate viewï¼Œç„¶årebuild viewï¼ŒåŠ¨ç”»å°±äº§ç”Ÿäº†ã€‚</li>
</ul>
<p><strong>å®ä¾‹äºŒ</strong></p><p>è¯¾ç¨‹é‡Œæœ‰è¿™ä¹ˆä¸ªéœ€æ±‚ï¼šå¡ç‰‡ç”±<code>LazyVGrid</code>æä¾›å¸ƒå±€ï¼Œä¸”å¡ç‰‡å‡ºç°å’Œæ¶ˆå¤±çš„æ—¶å€™éƒ½è¦æœ‰åŠ¨ç”»ã€‚</p><p>å‡ºç°å’Œæ¶ˆå¤±ï¼Ÿé‚£å½“ç„¶å°±æ˜¯<code>Transition</code>çš„äº‹äº†:</p><div class="highlight"><pre><span></span><span class="n">Card</span><span class="p">()</span>
  <span class="p">.</span><span class="n">transition</span><span class="p">(</span><span class="n">AnyTransition</span><span class="p">.</span><span class="n">asymmetric</span><span class="p">(</span><span class="n">insertion</span><span class="p">:</span> <span class="p">.</span><span class="n">scale</span><span class="p">,</span> 
                                         <span class="n">removal</span><span class="p">:</span> <span class="p">.</span><span class="n">opacity</span><span class="p">)))</span>
</pre></div>
<p>è¿è¡Œæ—¶å‘ç°æ¶ˆå¤±çš„æ—¶å€™æœ‰åŠ¨ç”»ï¼Œå‡ºç°çš„åŠ¨ç”»å´æ²¡æœ‰ã€‚åŸå› æ˜¯<code>transition</code>åªä¼šåœ¨<em>å‡ºç°å’Œæ¶ˆå¤±</em>æ—¶è§¦å‘ï¼Œè€Œæˆ‘ä»¬çš„å¡ç‰‡æ˜¯åŒ…åœ¨gridå®¹å™¨é‡Œçš„ï¼Œæ‰€ä»¥gridå‡ºç°åœ¨å±å¹•ä¸Šçš„æ—¶å€™ï¼Œå°±å¸¦ç€å¡ç‰‡ä¸€èµ·å‡ºç°äº†ï¼Œtransitionå¹¶ä¸ä¼šå‘ä¸‹ä¼ é€’ï¼ˆå‰æ–‡ä¹Ÿå·²ç»è¯´è¿‡äº†ï¼Œè¿™é‡Œåˆšå¥½å°è¯ï¼‰ã€‚</p><ol>
<li>æ‰€ä»¥è§£å†³æ–¹æ³•å½“ç„¶å¯ä»¥â€œå»¶è¿Ÿâ€å‘ˆç°è¿™äº›å¡ç‰‡</li>
<li>è¯¾ç¨‹é‡Œç”¨äº†å¦ä¸€ç§æ–¹æ³•ï¼Œæœºåˆ¶å½“ç„¶ä¹Ÿæ˜¯å»¶è¿Ÿï¼Œä½†ä¸æ˜¯é‚£ä¹ˆåœ°ç›´ç™½ï¼š</li>
</ol>
<figure  style="flex: 82.95774647887323" ><img width="1178" height="710" src="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/archives/assets/e7e3ef2ac16296fabf73162c1fc678fa.png" alt=""/></figure><ul>
<li>å°±æ˜¯åˆ©ç”¨äº†<code>.onAppear</code>æ¥é˜»æ–­å®¹å™¨å’Œå¡ç‰‡çš„è¿ç»­ç”Ÿæˆï¼Œè€Œæ”¹ç”¨å®¹å™¨å‘ˆç°åï¼Œå†é€ä¸ªâ€œæ·»åŠ â€çš„æ–¹å¼ï¼Œè®©æ¯ä¸€å¼ å¡ç‰‡éƒ½æœ‰ä¸€ä¸ªå•ç‹¬å‡ºç°çš„æœºä¼š</li>
<li>åŒæ—¶ä¹Ÿå¿…é¡»åˆ©ç”¨<code>@State</code>, è®©æ¯æ·»åŠ ä¸€å¼ å¡ç‰‡éƒ½ä¼šinvalidate viewä¸€æ¬¡</li>
<li>ä¹Ÿèƒ½çœ‹å‡ºï¼Œanimateèƒ½animateçš„å°±æ˜¯å±æ€§å’Œtransition</li>
</ul>
<blockquote>
<p>å½“ç„¶ï¼Œè¯¾ç¨‹æœ€åæ”¹æˆäº†â€œå‘ç‰Œâ€çš„æœºåˆ¶ï¼Œæ‰‹åŠ¨æ·»åŠ å¡ç‰‡ï¼Œå½»åº•é˜»æ–­äº†å¡ç‰‡å’Œå®¹å™¨ä¸€èµ·å‡ºç°çš„åœºæ™¯ã€‚</p></blockquote>
<p>è¿™å°±å¸¦æˆ‘ä»¬æ¥åˆ°äº†å®ä¾‹ä¸‰ï¼ŒåŒä¸€ä¸ªviewåœ¨ä¸åŒå®¹å™¨é—´çš„åŠ¨ç”»ï¼Œæ€ä¹ˆè®¡ç®—å„è‡ªå°ºåº¦ä¸‹åŒä¸€ä¸ªviewçš„ä½ç½®ï¼š<code>matchedGeometryEffect</code></p><p><strong>å®ä¾‹ä¸‰</strong></p><figure  style="flex: 73.45679012345678" ><img width="1190" height="810" src="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/archives/assets/08935bf9006d072875c203895aff17b7.png" alt=""/></figure><ul>
<li>æƒ³è¦æœ‰ç‰Œä¸€å¼ å¼ å‘å‡ºå»çš„æ•ˆæœï¼Œè‡ªç„¶ä¼šæƒ³åˆ°æ·»åŠ å»¶æ—¶</li>
<li>å®ç°æˆäº†åŒæ—¶åšåŠ¨ç”»ï¼Œåªä¸è¿‡è¶Šåˆ°åé¢çš„ç‰Œï¼Œå»¶æ—¶è¶Šé•¿ï¼ˆåŠ¨ä½œè¶Šæ…¢ï¼‰ï¼Œè€Œä¸æ˜¯æˆ‘ä»¬æƒ³è±¡çš„å…ˆåè§¦å‘</li>
</ul>
<p>ä¸ºäº†è®©ä¸åŒçš„ç‰Œå‘å‡ºå»æ—¶æœ‰ç«‹ä½“æ•ˆæœï¼Œè¿˜ä»¥indexä¸ºä¾æ®è®¾ç½®äº†<code>zIndex</code>ï¼Œæœ€ç»ˆæ•ˆæœï¼š</p><figure class="vertical-figure" style="flex: 35.714285714285715" ><img width="220" height="308" src="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/archives/assets/72b4116eb1e49a3b1eaa9097a2890b60.jpg" alt=""/></figure>
            </div>
        </article>
        <div class="prism-post-meta col-md-8 offset-md-2">
    <span>walker</span>
    
    <span>/</span>
    <span>
        <a class="category no-link" href="/category/posts/" target="_self">
        posts
        </a>
    </span>
    
    
    <span>/</span>
    
    <span class="prism-tag">
        <a class="no-link" href="/tag/cs193p/" target="_self">#cs193p</a>
    </span>
    
    <span class="prism-tag">
        <a class="no-link" href="/tag/animation/" target="_self">#animation</a>
    </span>
    
    <span class="prism-tag">
        <a class="no-link" href="/tag/transition/" target="_self">#transition</a>
    </span>
    
    
    
    <span>/</span>
    <span class="leancloud_visitors" id="/archives/cs193p_2021%E7%AC%94%E8%AE%B0%5B3%5D_Animation_Transition/" data-flag-title="cs193p_2021ç¬”è®°[3]_Animation_Transition"><span class="leancloud-visitors-count"></span> Views</span>
    
</div>
    </section>

    
<section id="prism__pagination" class="prism-pagination" class="col-md-8 offset-md-2">
    <ul>
        
        <li class="next">
            <a class="no-link" href="/archives/cs193p_2021%E7%AC%94%E8%AE%B0%5B4%5D_Color_Image_Gesture/" target="_self" title="cs193p_2021ç¬”è®°[4]_Color_Image_Gesture"><i class="fa fa-chevron-left" aria-hidden="true"></i>Newer</a>
        </li>
        
        
        <li class="prev">
            <a class="no-link" href="/archives/cs193p_2021_%E7%AC%94%E8%AE%B0%5B2%5D/" target="_self" title="cs193p_2021_ç¬”è®°[2]">Older<i class="fa fa-chevron-right" aria-hidden="true"></i></a>
        </li>
        
    </ul>
</section>


    
    <script>
        var initValine = function() {
            new Valine({"enable": true, "el": "#vcomments", "appId": "7tP92LoqK2cggW61DvJmWBo0-gzGzoHsz", "appKey": "iQCtrtlr8eKrQllM03GMESMJ", "visitor": true, "recordIP": true});
        }

    </script>
    <script defer src='https://cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js' onload="initValine()"></script>
    <div class="prism-comment-section container" id="prism__comment">
        <div class="row">
            <div class="col-md-8 offset-md-2">
                <div id="vcomments"></div>
            </div>
        </div>
    </div>
    

</main>

            <footer id="prism__footer">
                <section>
                    <div>
                        <nav class="social-links">
                            <ul><li><a class="no-link" title="Twitter" href="https://twitter.com/walkerwzy" target="_blank" rel="noopener noreferrer nofollow"><i class="gi gi-twitter"></i></a></li><li><a class="no-link" title="GitHub" href="https://github.com/walkerwzy" target="_blank" rel="noopener noreferrer nofollow"><i class="gi gi-github"></i></a></li><li><a class="no-link" title="Weibo" href="https://weibo.com/1071696872" target="_blank" rel="noopener noreferrer nofollow"><i class="gi gi-weibo"></i></a></li></ul>
                        </nav>
                    </div>

                    <section id="prism__external_links">
                        <ul>
                            
                            <li>
                                <a class="no-link" target="_blank" href="https://github.com/AlanDecode/Maverick" rel="noopener noreferrer nofollow">Maverick</a>ï¼šğŸ„â€ Go My Own Way.
                                <span>|</span>
                            </li>
                            
                            <li>
                                <a class="no-link" target="_blank" href="https://www.imalan.cn" rel="noopener noreferrer nofollow">Triple NULL</a>ï¼šHome page for AlanDecode.
                                <span>|</span>
                            </li>
                            
                        </ul>
                    </section>

                    <div class="copyright">
                        <p class="copyright-text">
                            <span class="brand">walker's code blog</span>
                            <span>Copyright Â© 2022 AlanDecode</span>
                        </p>
                        <p class="copyright-text powered-by">
                            | Powered by <a href="https://github.com/AlanDecode/Maverick" class="no-link" target="_blank" rel="noopener noreferrer nofollow">Maverick</a> | Theme <a href="https://github.com/Reedo0910/Maverick-Theme-Prism" target="_blank" class="no-link" rel="noopener noreferrer nofollow">Prism</a>
                        </p>
                    </div>
                    <div class="footer-addon">
                        
                    </div>
                </section>
                <script>
                    var site_build_date = "2019-12-06T12:00+08:00"

                </script>
                <script src="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/assets/prism-efa8685153.js"></script>
            </footer>
        </div>
    </div>
    </div>

    <script src="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/assets/ExSearch/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/assets/ExSearch/ExSearch-493cb9cd89.js"></script>

    <!--katex-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/assets/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/assets/katex.min.js"></script>
    <script>
        mathOpts = {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "\\[", right: "\\]", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false }
            ]
        };

    </script>
    <script defer src="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/assets/auto-render.min.js" onload="renderMathInElement(document.body, mathOpts);"></script>

    
</body>

</html>