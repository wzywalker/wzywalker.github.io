<!DOCTYPE HTML>
<html lang="english">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <meta name="HandheldFriendly" content="true">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Maverick,AlanDecode,Galileo,blog" />
    <meta name="generator" content="Maverick 1.2.1" />
    <meta name="template" content="Prism" />
    <link rel="alternate" type="application/rss+xml" title="walker's code blog &raquo; RSS 2.0" href="/feed/index.xml" />
    <link rel="alternate" type="application/atom+xml" title="walker's code blog &raquo; ATOM 1.0" href="/feed/atom/index.xml" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/assets/prism-b9d78ff38a.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/assets/ExSearch/ExSearch-182e5a8869.css">
    <link href="https://fonts.googleapis.com/css?family=Fira+Code&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
    <script>
        var ExSearchConfig = {
            root: "",
            api: "https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/6a68a4aadbc41b83c53b12cb3391dc62.json"
        }

    </script>
    
<title>ã€ŠEffective Objective-C 2.0ã€‹ç¬”è®°ç¬¬1-2ç«  - walker's code blog</title>
<meta name="author" content="walker" />
<meta name="description" content="" />
<meta property="og:title" content="ã€ŠEffective Objective-C 2.0ã€‹ç¬”è®°ç¬¬1-2ç«  - walker's code blog" />
<meta property="og:description" content="" />
<meta property="og:site_name" content="walker's code blog" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/archives/%E3%80%8AEffective-Objective-C-2.0%E3%80%8B%E7%AC%94%E8%AE%B0%E7%AC%AC1-2%E7%AB%A0/" />
<meta property="og:image" content="" />
<meta property="article:published_time" content="2022-01-14T00:00:00-00.00" />
<meta name="twitter:title" content="ã€ŠEffective Objective-C 2.0ã€‹ç¬”è®°ç¬¬1-2ç«  - walker's code blog" />
<meta name="twitter:description" content="" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="" />


    
</head>

<body>
    <div class="container prism-container">
        <header class="prism-header" id="prism__header">
            <h1 class="text-uppercase brand"><a class="no-link" href="/" target="_self">walker's code blog</a></h1>
            <p>coder, reader</p>
            <nav class="prism-nav"><ul><li><a class="no-link text-uppercase " href="/" target="_self">Home</a></li><li><a class="no-link text-uppercase " href="/archives/" target="_self">Archives</a></li><li><a class="no-link text-uppercase " href="/about/" target="_self">About</a></li><li><a href="#" target="_self" class="search-form-input no-link text-uppercase">Search</a></li></ul></nav>
        </header>
        <div class="prism-wrapper" id="prism__wrapper">
            
<main>
    <section class="prism-section row" id="prism__content">
        <article class="yue col-md-8 offset-md-2">
            <h1 class="prism-post-title">ã€ŠEffective Objective-C 2.0ã€‹ç¬”è®°ç¬¬1-2ç« </h1>
            <div class="prism-post-time">
                <time class="text-uppercase">
                    January 14 2022
                </time>
            </div>
            <div class="prism-content-body">
                <figure class="vertical-figure" style="flex: 38.0" ><img width="912" height="1200" src="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/archives/assets/ac920d0dab7ba40befbff58ed826b587.png" alt=""/></figure><blockquote>
<p>è¿™ä¸ªä¹¦å½“ç„¶ä¸­æ–‡ç‰ˆçš„ï¼Œä¹Ÿå¾ˆç»å…¸ï¼Œæˆ‘ä¹Ÿè¯»è¿‡äº†ï¼Œä½†æ˜¯å˜›ï¼Œè€è§„çŸ©ï¼Œæœ‰åŸç‰ˆè¿˜æ˜¯è¯»ä¸€éåŸç‰ˆï¼Œå†åŠ ä¸Šè‹±æ–‡æ°´å¹³ä¹Ÿåªæœ‰é‚£ä¹ˆå¥½ï¼Œæœ‰æœºä¼šèƒ½å¤šè¯»è¯»åœ¨å°±å¤šè¯»è¯»å§ã€‚ä¸€å…±å°±7ç« ï¼Œ52èŠ‚ï¼Œ200å¤šé¡µï¼Œå¹¶ä¸å¤šã€‚
æ­¤å¤–ï¼Œå› ä¸ºå¾ˆå¤šåè¯å…¶å®æˆ‘ä»¬å¹³æ—¶ç›´æ¥å«çš„å°±æ˜¯è‹±æ–‡ï¼Œä¸­æ–‡ç‰ˆé‡Œç»Ÿç»Ÿéƒ½ç»™äº†ä¸€ä¸ªä¸­æ–‡ç¿»è¯‘ï¼Œåè€Œæ›´é™Œç”Ÿäº†ï¼Œæœ‰ç§â€œè®¿è¾¾â€çš„å³è§†æ„Ÿã€‚</p></blockquote>
<h1>Chapter 1: Accustoming Yourself to Objective-C</h1>
<h2>Item 1: Familiarize Yourself with Objective-Câ€™s Roots</h2>
<ol>
<li><code>messaging structure</code> v.s. <code>function callihng</code><ul>
<li>in messaging structure, the <strong>runtime</strong> decides which code gets executed, while in function, the  <strong>compiler</strong> decides.</li>
<li><code>dynamic binding</code> v.s. <code>virtual table</code>  &lt;= å¤šæ€</li>
</ul>
</li>
<li><code>runtime component</code> v.s. <code>compiler</code><ul>
<li>å«æœ‰æ‰€æœ‰è®©é¢å‘å¯¹è±¡çš„OCèƒ½å·¥ä½œçš„ <em>data structures</em> and <em>functions</em><ul>
<li>æ¯”å¦‚ï¼Œå«æœ‰æ‰€æœ‰çš„memory-management methods</li>
</ul>
</li>
<li>æ›´æ–°runtime componentå°±èƒ½æå‡æ€§èƒ½ï¼Œè€Œæ— éœ€é‡æ–°ç¼–è¯‘</li>
</ul>
</li>
<li>Objective-C is a superset of C<ul>
<li>æ‰€ä»¥è¯­æ³•åŸºæœ¬ç±»ä¼¼ï¼š<code>NSString *str = @&quot;The String</code></li>
<li>è¡¨ç¤ºå£°æ˜äº†ä¸€ä¸ªå˜é‡ï¼Œç±»å‹æ˜¯<em>NSString *</em>ï¼Œæ˜¯ä¸€ä¸ªæŒ‡å‘NSStringçš„æŒ‡é’ˆ</li>
<li>æ‰€æœ‰OCå¯¹è±¡å¿…é¡»å¦‚æ­¤å£°æ˜ï¼Œå¯¹è±¡å†…å­˜ä¹Ÿæ€»æ˜¯åˆ†é…åœ¨heap spaceä¸Š<ul>
<li>è¿™æ˜¯åˆ†é…åˆ°stackä¸Šï¼š<code>NSString stackString</code> &lt;- æŠ¥é”™</li>
</ul>
</li>
<li>ä½†æŒ‡å‘è¿™ä¸ªå¯¹è±¡çš„æŒ‡é’ˆï¼ˆ<strong>pointer</strong>ï¼‰æ˜¯åˆ†é…åœ¨<code>stack frame</code>é‡Œçš„ï¼Œå¤šä¸ªæŒ‡å‘åŒä¸€å¯¹è±¡çš„æŒ‡é’ˆå°±åˆ†é…äº†å¤šä¸ªå†…å­˜<ul>
<li>æ¯ä¸ªå†…å­˜å¤§å°å°±æ˜¯ä¸€æšæŒ‡é’ˆçš„å¤§å°</li>
<li>å€¼ä¹Ÿæ˜¯ä¸€æ ·</li>
</ul>
</li>
</ul>
</li>
<li>The memory allocated in the <code>heap</code> has to be <strong>managed directly</strong><ul>
<li>OCå°†å †å†…å­˜ç®¡ç†æŠ½è±¡äº†å‡ºæ¥ï¼Œ<code>runtime</code>è¿›ä¸€æ­¥æŠ½è±¡æˆä¸€å¥—å†…å­˜ç®¡ç†æ¶æ„ï¼š<code>reference counting</code></li>
</ul>
</li>
<li>æ•´ä¸ªç³»ç»Ÿæ¡†æ¶éƒ½è¦ä½¿ç”¨ç»“æ„ä½“ï¼Œç”¨å¯¹è±¡ä¼šæœ‰é¢å¤–çš„å¼€é”€</li>
</ol>
<h2>Item 2: Minimize Importing Headers in Headers</h2>
<p>Objective-C, just like C and C++, makes use of <code>header files</code> and implementation files.</p><ol>
<li><code>forward declaring</code> -&gt; <code>@class SomeClass</code><ul>
<li>å¤´æ–‡ä»¶é‡Œå¹¶ä¸çŸ¥é“çŸ¥é“ä¸€äº›ç±»çš„å®ç°ç»†èŠ‚ï¼Œåªéœ€è¦çŸ¥é“æœ‰è¿™ä¹ˆä¸€ä¸ªç±»å°±è¡Œäº†</li>
<li>ä½†æ˜¯<code>.m</code>æ–‡ä»¶é‡Œå°±è¦è‡ªè¡Œå»importä¸€æ¬¡è¿™ä¸ªclassäº†</li>
<li>åŸåˆ™å°±æ˜¯å°½é‡å»¶åå¼•å…¥å¤´æ–‡ä»¶çš„æ—¶æœºï¼Œå‡å°‘ç¼–è¯‘æ—¶é—´</li>
<li>è¿˜è§£å†³äº†äº’ç›¸å¼•ç”¨çš„é—®é¢˜</li>
<li>å¼•ç”¨<code>super class</code>, <code>protocol</code>ç­‰å¿…é¡»è¦çŸ¥é“ç»†èŠ‚ï¼Œä¸èƒ½åº”ç”¨<code>forward declaring</code><ul>
<li>æ‰€ä»¥æœ€å¥½æŠŠprotocolå•ç‹¬æ”¾åœ¨ä¸€ä¸ªå¤´æ–‡ä»¶ï¼Œé¿å…æ— è°“åœ°å¼•ç”¨å¤§æ–‡ä»¶ï¼Œå¢åŠ ç¼–è¯‘æ—¶é—´</li>
<li>ä½†æ˜¯<code>delegate</code>æ”¾åˆ°<code>class-continuation category</code>é‡Œé¢å†™æ›´å¥½ï¼ˆå³åœ¨<strong>.m</strong>æ–‡ä»¶é‡Œå†™protocolå’Œimportï¼‰ï¼Œæ— éœ€æš´éœ²åˆ°å…¬å…±å¤´æ–‡ä»¶</li>
</ul>
</li>
<li>å…³é”®è¯ï¼š<code>å‡å°ä¾èµ–</code>ï¼Œ<code>ç¼©å‡ç¼–è¯‘æ—¶é—´</code></li>
</ul>
</li>
</ol>
<h2>Item 3: Prefer Literal Syntax over the Equivalent Methods</h2>
<ul>
<li>å°½é‡ä½¿ç”¨å­—é¢é‡è¯­æ³•ï¼ˆ<code>Literal Syntax</code>ï¼‰åˆ›å»ºå’Œä½¿ç”¨å¯¹è±¡</li>
<li>å­—é¢é‡è¯­æ³•åªæ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼ˆ<code>syntactic sugar</code>ï¼‰ï¼Œæ¨èä½¿ç”¨å­—é¢é‡ï¼Œä¼šå‡å°‘ä»£ç é‡ï¼Œä½†æœ€å¥½çŸ¥é“å®ƒå¯¹åº”çš„åŸå§‹æ–¹æ³•ã€‚ï¼ˆä½†æ˜¯è¿˜æ˜¯ä¼šæœ‰æ‰€åŒºåˆ«ï¼Œçœ‹ä¸‹ä¾‹ï¼‰</li>
<li>ç”¨å­—é¢é‡åˆå§‹æ•°ç»„ï¼Œå¦‚æœä¸æ˜¯æœ€åä¸€ä¸ªå…ƒç´ æ˜¯nilï¼Œä¼šæŠ¥é”™ï¼Œè€ŒåŸå§‹çš„<code>arrayWithObjects:</code>æ–¹æ³•åˆ™ä¼šåœ¨ç¢°åˆ°ç¬¬ä¸€ä¸ªnilæ—¶å½“æˆæ˜¯ç»ˆæ­¢å‚æ•°è€Œæ­£å¸¸æ‰§è¡Œï¼ˆåªä¿ç•™nilå‰çš„å…ƒç´ åˆå§‹åŒ–æ•°ç»„ï¼‰<ul>
<li>ä½œè€…è¯´è¿™åè€Œæ˜¯å¥½äº‹ï¼Œæœªé¢„æ–™åˆ°çš„æƒ…å†µæˆåŠŸæ‰§è¡Œæ¯”æŠ¥é”™æ›´å¯æ€•ï¼ŒæŠ›å¼‚å¸¸èƒ½æ›´æ—©åœ°å‘ç°é”™è¯¯</li>
</ul>
</li>
<li>åªèƒ½åˆ›å»ºFoundationæ¡†æ¶çš„å¯¹è±¡ï¼Œè‡ªå®šä¹‰å¯¹è±¡ä¸è¡Œï¼ˆä¸€èˆ¬ä¹Ÿæ²¡å¿…è¦ï¼‰</li>
<li>ä½¿ç”¨å­—é¢é‡è¯­æ³•åˆ›å»ºå‡ºæ¥çš„String, Array, Dictç­‰éƒ½<code>immutable</code>çš„</li>
</ul>
<h2>Item 4: Prefer Typed Constants to Preprocessor #define</h2>
<ul>
<li><code>#define</code>æœ¬è´¨æ˜¯æ›¿æ¢</li>
<li><code>#define</code>å‡ºæ¥çš„æ˜¯æ²¡æœ‰ç±»å‹ä¿¡æ¯çš„</li>
<li>å¦‚æœæ˜¯å£°æ˜åœ¨å¤´æ–‡ä»¶ä¸­ï¼Œå¼•ç”¨äº†æ­¤å¤´æ–‡ä»¶çš„ä»£ç éƒ½ä¼šåº”ç”¨æ­¤æ›¿æ¢<ul>
<li>å³ä½¿è¢«é‡å®šä¹‰äº†ï¼Œç¼–è¯‘å™¨ä¹Ÿä¸ä¼šäº§ç”Ÿè­¦å‘Š</li>
</ul>
</li>
<li>è€Œå¸¸é‡å°±å¸¦äº†ç±»å‹ä¿¡æ¯<ul>
<li><code>static NSString * const MyStringConstants = &quot;Hello world;</code></li>
<li>æ³¨æ„æ˜Ÿå·çš„ä½ç½®ï¼Œè¿™é‡Œè¡¨ç¤ºæŒ‡é’ˆæŒ‡å‘çš„æ˜¯æ•´ä¸ªå¸¸é‡</li>
<li>å¦‚æœæŠŠæ˜Ÿå·å†™åˆ°conståï¼Œé‚£è¡¨ç¤ºæŒ‡é’ˆå°±æ˜¯é‚£ä¸ªå¸¸é‡...</li>
</ul>
</li>
<li>å®šä¹‰å¸¸é‡çš„ä½ç½®å¾ˆé‡è¦ï¼ˆé¢„å¤„ç†æŒ‡ä»¤ä¹Ÿä¸€æ ·ï¼‰ï¼Œä¸æ‰“ç®—å…¬å¼€çš„è¯å°±åœ¨<code>.m</code>æ–‡ä»¶é‡Œå®šä¹‰</li>
<li>å‘½ä»¤ä¹Ÿå¾ˆé‡è¦</li>
<li>å¦åˆ™æˆäº†å…¨å±€å˜é‡ï¼Œå¾ˆå¯èƒ½â€ä¸ç»æ„â€œå¼•èµ·å˜é‡å†²çª/è¦†ç›–</li>
<li><code>static const</code>è¦ä¸€èµ·ä½¿ç”¨ï¼Œå•ç‹¬çš„<code>const</code>ä¼šæŠ¥é”™<ul>
<li><code>static</code>ä¸å†æ˜¯åˆ«çš„è¯­è¨€ä¸­çš„<strong>é™æ€å˜é‡</strong>ï¼Œè€Œä¿æ˜¯ä¸€ä¸ªä½œç”¨åŸŸå£°æ˜</li>
<li>ä¸€ä¸ªç¼–è¯‘å•å…ƒï¼ˆ<code>translation unit</code>ï¼‰ä¸ªè¾“å‡ºä¸€ä¸ªç›®æ ‡æ–‡ä»¶ï¼ˆ<code>object file</code>ï¼‰<ul>
<li>è€ƒè™‘ä½ ç¼–è¯‘ä¸€ä¸ªc++æ–‡ä»¶ï¼Œä¸€ä¸ªæ–‡ä»¶ç”Ÿæˆä¸€ä¸ªç›®æ ‡ï¼ˆäºŒè¿›åˆ¶ï¼‰æ–‡ä»¶ï¼Œç„¶åå†é“¾æ¥ã€‚</li>
<li>æ‰€ä»¥ä¸€ä¸ªç¼–è¯‘å•å…ƒä¸€èˆ¬æ˜¯ä¸€ä¸ª<code>.m</code>æ–‡ä»¶</li>
</ul>
</li>
<li>ç»“åˆèµ·æ¥ï¼Œ<code>static</code>å°±æ˜¯åœ¨ä¸€ä¸ªç›®æ ‡æ–‡ä»¶å†…å¯è§</li>
<li>å¦‚æœä¸åŠ <code>static</code>ï¼Œç¼–è¯‘å™¨ä¼šæ·»åŠ ä¸€ä¸ª<code>external symbol</code>ï¼ˆåé¢æœ‰è¯¦è¿°ï¼‰ï¼Œè¿™æ ·å°±æœ‰é‡å®šä¹‰é£é™©äº†ï¼ˆ<code>duplicate symbol</code>ï¼‰</li>
</ul>
</li>
<li>æœ€åï¼Œäº‹å®ä¸Š<code>static const</code>ä¸€èµ·ç”¨ï¼Œç¼–è¯‘å™¨åšçš„ä»ç„¶æ˜¯<strong>æ›¿æ¢</strong>ï¼Œè€Œæ²¡æœ‰å»åˆ›å»ºç¬¦å·ï¼ˆä½†æ­¤æ—¶å·²ç»æœ‰ç±»å‹ä¿¡æ¯äº†ï¼‰</li>
</ul>
<p>*å¦‚æœéœ€è¦å…¬å¼€ï¼Œåˆ™æ·»åŠ åˆ°å…¨å±€ç¬¦å·è¡¨ï¼ˆ<code>global symbol table</code>ï¼‰ä¸­ï¼š</p><div class="highlight"><pre><span></span><span class="c1">// In the header file</span>
<span class="k">extern</span><span class="w"> </span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="k">const</span><span class="w"> </span><span class="n">EOCStringConstant</span><span class="p">;</span><span class="w"></span>

<span class="c1">// In the implementation file</span>
<span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="k">const</span><span class="w"> </span><span class="n">EOCStringConstant</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">@&quot;VALUE&quot;</span><span class="p">;</span><span class="w"></span>
</pre></div>
<ul>
<li>ä¸Šé¢è§£é‡Šäº†<code>static</code>ï¼Œç°åœ¨æ¥è§£é‡Š<code>extern</code><ul>
<li><code>extern</code>è¡¨ç¤ºå‘ç¼–è¯‘å™¨ä¿è¯å…¨å±€ç¬¦å·è¡¨ä¸­å°†ä¼šæœ‰è¿™ä¸ªç¬¦å·ï¼Œå…¶å®å°±æ˜¯è¦ç¼–è¯‘å™¨ä¸è¦ç»§ç»­æ£€æŸ¥</li>
<li>å®ƒçŸ¥é“é“¾æ¥æˆäºŒè¿›åˆ¶æ–‡ä»¶åï¼Œè‚¯å®šèƒ½æ‰¾åˆ°è¿™ä¸ªå¸¸é‡</li>
</ul>
</li>
<li>æ‰€ä»¥åœ¨<code>.m</code>æ–‡ä»¶é‡Œæ­£å¸¸å®šä¹‰å’Œèµ‹å€¼ï¼Œåœ¨<strong>ä»»æ„</strong><code>.h</code>æ–‡ä»¶æ—¶ç»™ç¼–è¯‘å™¨æ‰“ä¸ªæ‹›å‘¼å°±è¡Œäº†</li>
<li>å‘½åè§„èŒƒï¼š<ul>
<li>å¦‚æœæ˜¯é™å®šå¯è§åŸŸçš„ï¼Œç”¨<code>k</code>å¼€å¤´å°±è¡Œäº†</li>
<li>å¦‚æœä¼šå…¬å¼€çš„ï¼Œé‚£ä¹ˆå°±ç”¨å‡½æ•°åä½œå‰ç¼€ï¼ˆç³»ç»Ÿæ¡†æ¶éƒ½æ˜¯è¿™ä¹ˆåšçš„ï¼‰</li>
</ul>
</li>
</ul>
<p><strong>external symbol</strong> V.S. <strong>global symbol</strong></p><blockquote>
<p>å‰æ–‡ä½ å·²ç»çŸ¥é“äº†ä¸¤ç§æå‡ä½œç”¨åŸŸçš„æ–¹å¼ï¼ŒåŒºåˆ«åœ¨</p><ul>
<li>ä¸€ä¸ªæ˜¯é€šè¿‡ä¸å¯¹conståŠ staticï¼ˆæ·»åŠ external symbolï¼‰ï¼Œ</li>
<li>ä¸€ä¸ªæ˜¯é¢å¤–å£°æ˜externï¼ˆæ·»åŠ åˆ°blobal symbol talbeï¼‰</li>
</ul>
</blockquote>
<h2>Item 5: Use Enumerations for States, Options, and Status Codes</h2>
<ul>
<li>æšä¸¾åªæ˜¯ä¸€ç§å¸¸é‡å‘½åæ–¹å¼</li>
<li>è¯­æ³•å¾ˆå¥‡è‘©ï¼š<code>enum EOCConnectionState</code> state = EOCConnectionStateDisconnected;<ul>
<li>çœ‹é«˜äº®çš„éƒ¨åˆ†ï¼Œåˆ«äººåªè¦å†™ä¸€ä¸ªtypeï¼Œå®ƒè¦è¿enumå¸¦åç§°å†™å…¨</li>
</ul>
</li>
<li>æ‰€ä»¥ä¸€èˆ¬ä¼š<code>typedef</code>ä¸€ä¸‹ï¼š<code>typedef enum EOCConnectionState EOCConnectionState;</code><ul>
<li>ç°åœ¨å°±å¯ä»¥ç”¨<code>EOCConnectionState</code>è¿™ä¸ªtypeæ¥å®šä¹‰å˜é‡äº†</li>
</ul>
</li>
<li>ç”¨enumæ¥åšé€‰é¡¹(options)çš„æ—¶å€™ï¼Œå› ä¸ºä¸æ˜¯äº’æ–¥çš„å…³ç³»ï¼Œé€‰æ‹©bitwise OR operatoræ¥ä¼šç›´è§‚å¾ˆå¤šï¼ˆå°±æ˜¯æ¯ä¸€ä¸ªäºŒè¿›åˆ¶ä½ä»£è¡¨ä¸€ä¸ªçŠ¶æ€ï¼‰</li>
</ul>
<div class="highlight"><pre><span></span><span class="k">enum</span><span class="w"> </span><span class="n">UIViewAutoresizing</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<span class="w">    </span><span class="n">UIViewAutoresizingNone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="n">UIViewAutoresizingFlexibleLeftMargin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="n">UIViewAutoresizingFlexibleWidth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="n">UIViewAutoresizingFlexibleRightMargin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="n">UIViewAutoresizingFlexibleTopMargin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="n">UIViewAutoresizingFlexibleHeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="n">UIViewAutoresizingFlexibleBottomMargin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
<figure  style="flex: 66.52173913043478" ><img width="918" height="690" src="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/archives/assets/4a634eedbb41d909a0b262a8f2f437ee.png" alt=""/></figure><ul>
<li>Foundationæ¡†æ¶å®šä¹‰äº†ä¸€äº›è¾…åŠ©å®ï¼Œä»¥ä¾¿æ”¯æŒæ–°çš„C++æ ‡å‡†å¯¹å®å®šä¹‰çš„å¢å¼ºåŒæ—¶è¿˜èƒ½å…¼å®¹è€çš„æ ‡å‡†: <code>NS_ENUM</code>å’Œ<code>NS_OPTIONS</code><ul>
<li>ç‰¹åˆ«æ˜¯c++å¯¹æšä¸¾å€¼é‡Œçš„bitwiseæ“ä½œç»“æœéœ€è¦æ˜¾å¼è½¬æ¢</li>
<li>æ‰€ä»¥ç”¨åˆ°äº†<strong>å¯ç»„åˆ</strong>çš„optionç±»çš„æšä¸¾ï¼Œæœ€å¥½ç”¨<code>NS_OPTIONS</code>å®ï¼Œå¦åˆ™ç”¨<code>NS_ENUM</code>å°±å¤Ÿäº†</li>
</ul>
</li>
<li>å¯¹enumåº”ç”¨<code>switch</code>æœ€å¥½ä¸è¦åŠ <code>default</code>ï¼Œè¿™æ ·ä½ æ·»åŠ äº†æ–°çš„æšä¸¾å€¼è€Œå¿˜è®°äº†å¤„ç†ï¼Œèƒ½åŠæ—¶å¾—åˆ°é”™è¯¯åé¦ˆ</li>
</ul>
<h1>Chapter 2: Objects, Messaging, and the Runtime</h1>
<h2>Item 6: Understand Properties</h2>
<ul>
<li><code>Properties</code> are an Objective-C feature providing encapsulation of the data an object contains.<ul>
<li>stored by <code>instance variables</code></li>
<li>accessed through <code>accessor methods</code> (getter, setter)<ul>
<li>can be written by complier automatically &lt;= <code>autosynthesis</code></li>
<li>introduced a <code>dot syntax</code> to  accessing the data</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>çœ‹ä¸€ä¸‹C++å†™æ³•ï¼š</p><div class="highlight"><pre><span></span><span class="err">@</span><span class="n">interface</span><span class="w"> </span><span class="n">EOCPerson</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">NSObject</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<span class="err">@</span><span class="k">public</span><span class="w"></span>
<span class="w">    </span><span class="n">NSString</span><span class="w"> </span><span class="o">*</span><span class="n">_firstName</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">NSString</span><span class="w"> </span><span class="o">*</span><span class="n">_lastName</span><span class="p">;</span><span class="w"> </span>
<span class="err">@</span><span class="k">private</span><span class="w"></span>
<span class="w">    </span><span class="n">NSString</span><span class="w"> </span><span class="o">*</span><span class="n">_someInternalData</span><span class="p">;</span><span class="w"> </span>
<span class="p">}</span><span class="w"></span>
<span class="err">@</span><span class="n">end</span><span class="w"></span>
</pre></div>
<ul>
<li>å¯¹è±¡å¸ƒå±€åœ¨ç¼–è¯‘æœŸå°±ç¡®å®šäº†ï¼Œæ‰€ä»¥å°±ç¡¬ç¼–ç äº†æ¯ä¸ªå±æ€§åœ¨å¯¹è±¡å†…å­˜ä¸­çš„åç§»é‡</li>
<li>æ‰€ä»¥å¦‚æœå¯¹è±¡å¸ƒå±€å˜åŒ–äº†ï¼ˆæ¯”å¦‚å¢åŠ äº†å®ä¾‹å˜é‡ï¼‰ï¼Œè¿™äº›åç§»é‡å°±ä¼šå‡ºé”™ï¼Œå¿…é¡»è¦é‡æ–°ç¼–è¯‘ã€‚<ul>
<li>å¦‚æœé“¾æ¥ä»£ç æ—¶ä½¿ç”¨äº†ä¸åŒç‰ˆæœ¬çš„ç±»å®šä¹‰ï¼Œå°±ä¼šäº§ç”Ÿè¿™ç§â€œä¸å…¼å®¹â€çš„é—®é¢˜</li>
</ul>
</li>
<li>OCçš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼ŒæŠŠåç§»é‡ä»ç”±â€œå®ä¾‹å˜é‡â€å­˜å‚¨<ul>
<li>ä½†æ˜¯äº¤ç”±â€œç±»å¯¹è±¡â€œ(class object)ä¿ç®¡</li>
<li>åç§»é‡åœ¨è¿è¡ŒæœŸæŸ¥æ‰¾ -&gt; ç±»çš„å®šä¹‰å˜äº†ï¼Œåç§»é‡ä¹Ÿå°±å˜äº†ï¼ˆå®æ—¶çš„ï¼‰<ul>
<li>ç”šè‡³å¯ä»¥åœ¨è¿è¡ŒæœŸå‘ç±»ä¸­æ–°å¢å®ä¾‹å˜é‡</li>
<li>nonfragile Application Binary Interface(ABI)</li>
<li>è¿™æ ·å°±å¯ä»¥ä¸æ­¢åœ¨å£°æ˜æ–‡ä»¶é‡Œå®šä¹‰å®ä¾‹å˜é‡ï¼Œè¿˜å¯ä»¥åœ¨class-continuationå’Œå®ç°æ–‡ä»¶é‡Œé¢å®šä¹‰äº†</li>
</ul>
</li>
<li>å°½é‡ä¸è¦ç›´æ¥è®¿é—®å®ä¾‹å˜é‡</li>
</ul>
</li>
<li>ä½¿ç”¨<code>ç‚¹è¯­æ³•</code>è®¿é—®å±æ€§<ul>
<li>ç¼–è¯‘å™¨ä¼šè½¬æ¢ä¸ºå¯¹å­˜å–æ–¹æ³•çš„è°ƒç”¨</li>
<li>ç¼–è¯‘å™¨ä¼šä¸ºå±æ€§ç”Ÿæˆç›¸åº”çš„å®ä¾‹å˜é‡ï¼Œå¹¶è‡ªåŠ¨åˆæˆï¼ˆç”Ÿæˆç›¸åº”çš„å­˜å–æ–¹æ³•ï¼‰<ul>
<li>ç¼–è¯‘æœŸè¿›è¡Œï¼Œæ‰€ä»¥ä½ çœ‹ä¸åˆ°å®é™…çš„ä»£ç </li>
<li>ä¹Ÿå¯ä»¥æ‰‹å†™åŒæ ·çš„ä»£ç ï¼ˆè¿™æ—¶ä½ å°±å¯ä»¥è‡ªå®šä¹‰å®ä¾‹æ–¹æ³•çš„ç­¾åäº†ï¼‰</li>
<li><code>@dynamic</code>èƒ½é˜»æ­¢åˆæˆ &lt;= ç›¸ä¿¡è¿è¡ŒæœŸèƒ½æ‰¾åˆ°</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3>Property Attributes</h3>
<ol>
<li>åŸå­æ€§(<code>Atomicity</code>)ï¼Œè¯»å†™çš„æ—¶å€™åŠ é”</li>
<li>è¯»/å†™æƒé™</li>
<li>å†…å­˜ç®¡ç†è¯­ä¹‰<ul>
<li>assign: on scalar type</li>
<li>strong: æ‹¥æœ‰å…³ç³»ï¼Œè®¾ç½®æ–°å€¼æµç¨‹ï¼šretain new -&gt; release old -&gt; set new</li>
<li>weak: éæ‹¥æœ‰å…³ç³»</li>
<li>unsafe_unretained: ç±»ä¼¼assignï¼Œä½†é€‚ç”¨äºå¯¹è±¡ç±»å‹ï¼ˆè€Œä¸åªæœ‰scalar type)<ul>
<li>ä¸weakçš„åŒºåˆ«åœ¨ç›®æ ‡å¯¹è±¡åœ¨é”€æ¯æ—¶ï¼Œè¯¥å±æ€§å€¼ä¸ä¼šè‡ªåŠ¨æ¸…ç©º</li>
</ul>
</li>
<li>copy: ç±»ä¼¼strongï¼Œä½†æ˜¯ç›¸æ¯”èµ·retainï¼Œå®ƒç›´æ¥æ˜¯å¤åˆ¶äº†ä¸€ä»½ï¼Œé€šå¸¸ç”¨äºæ‹¥æœ‰å¯å˜ç±»å‹çš„å˜é‡ï¼Œæ¯”å¦‚<code>NSString *</code>ï¼Œå¯å˜ç‰ˆçš„stringä¹Ÿèƒ½èµ‹å€¼ç»™NSStringï¼Œè¿™å°±ä¼šå¼•èµ·èµ‹å€¼åå€¼è¿˜è‡ªå·±å˜äº†çš„å¯èƒ½æ€§</li>
</ul>
</li>
<li>æ–¹æ³•å<ul>
<li>getter=<name>ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯æœ‰äº›boolç±»å‹çš„é€šå¸¸ä¼šè®¾ç½®ä¸º<code>isXXXX</code></li>
<li>setter=<name>ï¼Œä½†å¾ˆå°‘è¿™ä¹ˆåš</li>
</ul>
</li>
</ol>
<p>å¦‚æœè‡ªå·±æ¥å®ç°accessor methodsï¼Œé‚£ä¹ˆå°±è¦è‡ªå·±å»ä¿è¯è¿™äº›æ–¹æ³•ç¬¦åˆè¿™äº›attributesï¼Œæ¯”å¦‚å†…å­˜ç®¡ç†è¯­ä¹‰ä¸ºcopyï¼Œé‚£ä¹ˆåœ¨è®¾ç½®çš„æ—¶å€™å°±è¦æ‹·è´ä¼ å…¥çš„å€¼ï¼š</p><div class="highlight"><pre><span></span><span class="k">@interface</span> <span class="nc">EOCPerson</span> : <span class="bp">NSManagedObject</span><span class="w"> </span>
<span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">copy</span><span class="p">)</span><span class="w"> </span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="n">firstName</span><span class="p">;</span><span class="w"></span>
<span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">copy</span><span class="p">)</span><span class="w"> </span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="n">lastName</span><span class="p">;</span><span class="w"></span>
<span class="p">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">initWithFirstName:</span><span class="p">(</span><span class="bp">NSString</span><span class="o">*</span><span class="p">)</span><span class="nv">firstName</span><span class="w"> </span><span class="nf">lastName:</span><span class="p">(</span><span class="bp">NSString</span><span class="o">*</span><span class="p">)</span><span class="nv">lastName</span><span class="p">;</span><span class="w"></span>
<span class="k">@end</span><span class="w"></span>

<span class="c1">// å®ç°æ–‡ä»¶ï¼š</span>
<span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="n">initWithFirstName</span><span class="o">:</span><span class="p">(</span><span class="bp">NSString</span><span class="o">*</span><span class="p">)</span><span class="n">firstName</span><span class="w"> </span><span class="n">lastName</span><span class="o">:</span><span class="p">(</span><span class="bp">NSString</span><span class="o">*</span><span class="p">)</span><span class="n">lastName</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="nb">self</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nb">super</span><span class="w"> </span><span class="n">init</span><span class="p">]))</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">_firstName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">firstName</span><span class="w"> </span><span class="k">copy</span><span class="p">];</span><span class="w"></span>
<span class="w">        </span><span class="n">_lastName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">lastName</span><span class="w"> </span><span class="k">copy</span><span class="p">];</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">self</span><span class="p">;</span><span class="w"> </span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
</pre></div>
<blockquote>
<ul>
<li>è¯»å†™æ“ä½œçš„åŸå­æ€§å¹¶ä¸æ˜¯çº¿ç¨‹å®‰å…¨</li>
<li>iOSä¸­ä½¿ç”¨åŒæ­¥é”å¼€é”€è¾ƒå¤§</li>
<li>å®é™…iOSç¨‹åºç¢°åˆ°å¤šçº¿ç¨‹è¯»å†™å±æ€§çš„åœºæ™¯ä¹Ÿéå¸¸å°‘</li>
<li>æ‰€ä»¥åŸºæœ¬ä¸Šéƒ½æ˜¯å£°æ˜ä¸º<code>nonatomic</code></li>
</ul>
</blockquote>
<h2>Item 7: Access Instance Variables Primarily Directly When Accessing Them Internally</h2>
<p>åœ¨å¯¹è±¡å†…éƒ¨ä¼˜å…ˆè®¿é—®å®ä¾‹å˜é‡ã€‚</p><p>ç›´æ¥è®¿é—®è€Œä¸ç”¨ç‚¹è¯­æ³•çš„å½±å“ï¼š</p><ul>
<li>ä¸ç»è¿‡æ¶ˆæ¯æ´¾å‘ï¼Œé€Ÿåº¦å¿«ï¼ˆç¼–è¯‘å™¨ç”Ÿæˆçš„ä»£ç ä¼šç›´æ¥è®¿é—®ç›¸åº”çš„å†…å­˜ï¼‰</li>
<li>ä¸ä¼šè°ƒç”¨setterï¼Œä¹Ÿç»•è¿‡äº†ç›¸åº”çš„å†…å­˜ç®¡ç†è¯­ä¹‰</li>
<li>ä¸ä¼šè§¦å‘KVO</li>
<li>æ²¡æœ‰æœºä¼šåœ¨getter, setterä¸­è®¾ç½®æ–­ç‚¹æ¥è°ƒè¯•</li>
<li>æ²¡æœ‰æœºä¼š<code>lazy intialization</code>ï¼Œè€Œgetteræœºåˆ¶èƒ½åœ¨é¦–æ¬¡è¢«è°ƒç”¨åˆ°çš„æ—¶å€™æ‰å»åˆå§‹åŒ–å®ä¾‹å˜é‡</li>
<li>åˆå§‹åŒ–å’Œdeallocçš„æ—¶å€™æ€»æ˜¯è¦ç›´æ¥ç”¨å®ä¾‹å˜é‡</li>
</ul>
<p>ä½œè€…å»ºè®®å°½é‡åœ¨è¯»å–å®ä¾‹å˜é‡çš„æ—¶å€™ç›´æ¥è®¿é—®ï¼Œè®¾ç½®çš„æ—¶å€™ç”¨å±æ€§ï¼ˆä¼šè‡ªåŠ¨è€ƒè™‘å†…å­˜ç®¡ç†è¯­ä¹‰ï¼‰</p><h2>Item 8: Understand Object Equality</h2>
<p>å…¶å®å°±æ˜¯ç†è§£NSObjectè‡ªå¸¦çš„<code>isEqual:</code>æ–¹æ³•ã€‚</p><ul>
<li><code>==</code>å°±æ˜¯æ¯”æŒ‡é’ˆ</li>
<li><code>isEqual:</code>æ¯”çš„æ˜¯<code>hash</code>ï¼Œæ‰€ä»¥è‡ªå®šä¹‰çš„ç±»è¦å®ç°equalityå°±è¦è‡ªè¡Œå®ç°è¿™ä¸¤ä¸ªæ–¹æ³•<ul>
<li>hashä¸åŒå¿…ç„¶å¯¹è±¡ä¸åŒï¼Œä½†ç”±äºæœ‰hash collisionsçš„å­˜åœ¨ï¼Œåè¿‡æ¥å¹¶ä¸æˆç«‹</li>
<li>å°½é‡ç”¨å¯¹è±¡çš„ä¸å¯å˜éƒ¨åˆ†æ¥åšhash</li>
</ul>
</li>
</ul>
<p>ä¸€ä¸ªåšhashçš„æ–¹æ³•ï¼š</p><div class="highlight"><pre><span></span><span class="p">-</span> <span class="p">(</span><span class="n">NSUInteger</span><span class="p">)</span><span class="nf">hash</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">NSUInteger</span><span class="w"> </span><span class="n">firstNameHash</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">_firstName</span><span class="w"> </span><span class="n">hash</span><span class="p">];</span><span class="w"> </span>
<span class="w">    </span><span class="n">NSUInteger</span><span class="w"> </span><span class="n">lastNameHash</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">_lastName</span><span class="w"> </span><span class="n">hash</span><span class="p">];</span><span class="w"> </span>
<span class="w">    </span><span class="n">NSUInteger</span><span class="w"> </span><span class="n">ageHash</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_age</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">firstNameHash</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="n">lastNameHash</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="n">ageHash</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
<h2>Item 9: Use the Class Cluster Pattern to Hide Implementation Detail</h2>
<div class="highlight"><pre><span></span><span class="p">+</span> <span class="p">(</span><span class="bp">UIButton</span><span class="o">*</span><span class="p">)</span><span class="nf">buttonWithType:</span><span class="p">(</span><span class="n">UIButtonType</span><span class="p">)</span><span class="nv">type</span><span class="p">;</span><span class="w"></span>
</pre></div>
<ul>
<li>ä½œè€…å°†ä¸Šè¿°è¿™ç§è§£é‡Šä¸ºâ€œç±»æ—â€ï¼Œå³å®ƒçš„è¿”å›å€¼å¯èƒ½æ˜¯å„ç§buttonï¼Œä½†å½’æ ¹ç»“åº•ï¼Œéƒ½æ˜¯<code>UIButton</code>ï¼Œå°±æ˜¯é ç€switchå„ç§typeæ¥å®ä¾‹åŒ–å„ç§å­ç±»ã€‚</li>
<li>åŒæ—¶ï¼Œå› ä¸ºOCæ²¡æœ‰abstract classï¼Œä¸ºäº†é¿å…ç›´æ¥ä½¿ç”¨æŠ½è±¡åŸºç±»ï¼Œä¸€èˆ¬ä¸æä¾›initæ–¹æ³•ï¼Œå¹¶åœ¨åŸºç±»ç›¸å…³æ–¹æ³•é‡Œå¹²è„†æŠ›å¼‚å¸¸</li>
<li>è¿™é‡Œä½¿ç”¨<code>isMemberOfClass</code>å°±è¦å°å¿ƒï¼Œå®ƒæ˜¯kindï¼Œä½†ä¸ä¸€å®šæ˜¯member</li>
<li>ç³»ç»Ÿæ¡†æ¶é‡Œæœ‰å¾ˆå¤š<code>class cluster</code>ï¼Œç‰¹åˆ«æ˜¯<code>collection</code><ul>
<li>æ‰€ä»¥<code>if([anArray class] == [NSArray class])</code>æ˜¯falseï¼ˆåŸå› å°±æ˜¯å®ƒæ˜¯è¢«å½“ä½œâ€œ<strong>æŠ½è±¡åŸºç±»</strong>æ¥è®¾è®¡çš„ï¼Œå®é™…ä¸Šæ˜¯éšè—åœ¨å…¬å…±æ¥å£åé¢çš„æŸä¸ªå†…éƒ¨ç±»å‹ï¼‰</li>
<li>åŒæ ·ï¼Œç”¨<code>isKindOfClass:</code>è‡³å°‘èƒ½åˆ¤æ–­æ˜¯åœ¨è¿™ä¸ªç±»æ—é‡Œ</li>
</ul>
</li>
</ul>
<h2>Item 10: Use Associated Objects to Attach Custom Data to Existing Classes</h2>
<p>æ‰©å±•ç°æœ‰ç±»ï¼Œæˆ‘ä»¬å¯ä»¥ç»§æ‰¿ï¼Œä½†æœ‰æ—¶å€™ä¸€äº›ç‰¹æ®Šæœºåˆ¶åˆ›å»ºçš„ç±»å´æ— æ³•ç»§æ‰¿ï¼Œå¯ä»¥é€šè¿‡<code>Associated Object</code>æ¥æ·»åŠ è¿™äº›ä¿¡æ¯ã€‚</p><ul>
<li>ä»¥é”®å€¼å¯¹æ¥å­˜å‚¨ï¼Œæ‰€ä»¥æ˜¯å¯ä»¥å­˜å‚¨å¤šä¸ªå…³è”æ•°æ®çš„</li>
<li>å¯ä»¥æŒ‡å®šstorage policyï¼Œå¯¹åº”å†…å­˜ç®¡ç†è¯­ä¹‰</li>
</ul>
<figure  style="flex: 140.1840490797546" ><img width="914" height="326" src="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/archives/assets/820ae39c34d1147867f1dfb6f1d64de3.png" alt=""/></figure><p>æ–¹æ³•:</p><div class="highlight"><pre><span></span><span class="c1">// Sets up an association of object to value with the given key and policy.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">objc_setAssociatedObject</span><span class="p">(</span><span class="kt">id</span><span class="w"> </span><span class="n">object</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="kt">id</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">objc_AssociationPolicy</span><span class="w"> </span><span class="n">policy</span><span class="p">)</span><span class="w"></span>

<span class="c1">// Retrieves the value for the association on object with the given key.</span>
<span class="kt">id</span><span class="w"> </span><span class="n">objc_getAssociatedObject</span><span class="p">(</span><span class="kt">id</span><span class="w"> </span><span class="n">object</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">key</span><span class="p">)</span><span class="w"></span>

<span class="c1">// Removes all associations against object.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">objc_removeAssociatedObjects</span><span class="p">(</span><span class="kt">id</span><span class="w"> </span><span class="n">object</span><span class="p">)</span><span class="w"></span>
</pre></div>
<p>ä¹¦ä¸­å†™äº†ä¸€ä¸ªä¾‹å­ï¼ŒalertViewçš„ä»£ç†æ–¹æ³•æ¥å¤„ç†æŒ‰äº†ä»€ä¹ˆé”®ï¼Œè€Œä¸€ä¸ªé¡µé¢ä¸­å¦‚æœæœ‰å¤šä¸ªalertViewï¼Œä¸”ç”¨åŒä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œé‚£ä¹ˆå¤„ç†éœ€è¦æ›´ç²¾ç»†ï¼ˆæ¯”å¦‚éœ€è¦çŸ¥é“æ˜¯å“ªä¸ªè­¦å‘Šæ¡†å¼¹çš„ï¼Œæˆ‘ä¸€èˆ¬ç”¨tagï¼‰ã€‚
è€Œå¦‚æœæŠŠå¤„ç†æ–¹æ³•å®šä¹‰ä¸ºä¸€ä¸ªblockï¼Œå¹¶æŠŠå®ƒå…³è”åˆ°UIAlertViewç±»ï¼Œé‚£ä¹ˆå¤„ç†é€»è¾‘å°±å¯ä»¥è·Ÿå®šä¹‰alertViewå†™åœ¨ä¸€èµ·äº†ã€‚</p><p>todo, item 11-14</p>
            </div>
        </article>
        <div class="prism-post-meta col-md-8 offset-md-2">
    <span>walker</span>
    
    <span>/</span>
    <span>
        <a class="category no-link" href="/category/posts/" target="_self">
        posts
        </a>
    </span>
    
    
    <span>/</span>
    
    <span class="prism-tag">
        <a class="no-link" href="/tag/objective%20c/" target="_self">#objective c</a>
    </span>
    
    <span class="prism-tag">
        <a class="no-link" href="/tag/runtime/" target="_self">#runtime</a>
    </span>
    
    <span class="prism-tag">
        <a class="no-link" href="/tag/message%20forward/" target="_self">#message forward</a>
    </span>
    
    <span class="prism-tag">
        <a class="no-link" href="/tag/property/" target="_self">#property</a>
    </span>
    
    
    
    <span>/</span>
    <span class="leancloud_visitors" id="/archives/%E3%80%8AEffective-Objective-C-2.0%E3%80%8B%E7%AC%94%E8%AE%B0%E7%AC%AC1-2%E7%AB%A0/" data-flag-title="ã€ŠEffective Objective-C 2.0ã€‹ç¬”è®°ç¬¬1-2ç« "><span class="leancloud-visitors-count"></span> Views</span>
    
</div>
    </section>

    
<section id="prism__pagination" class="prism-pagination" class="col-md-8 offset-md-2">
    <ul>
        
        <li class="next text-muted">
            <span title="Viewing the newest one."><i class="fa fa-chevron-left" aria-hidden="true"></i>Newer</span>
        </li>
        
        
        <li class="prev">
            <a class="no-link" href="/archives/View/" target="_self" title="View">Older<i class="fa fa-chevron-right" aria-hidden="true"></i></a>
        </li>
        
    </ul>
</section>


    
    <script>
        var initValine = function() {
            new Valine({"enable": true, "el": "#vcomments", "appId": "7tP92LoqK2cggW61DvJmWBo0-gzGzoHsz", "appKey": "iQCtrtlr8eKrQllM03GMESMJ", "visitor": true, "recordIP": true});
        }

    </script>
    <script defer src='https://cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js' onload="initValine()"></script>
    <div class="prism-comment-section container" id="prism__comment">
        <div class="row">
            <div class="col-md-8 offset-md-2">
                <div id="vcomments"></div>
            </div>
        </div>
    </div>
    

</main>

            <footer id="prism__footer">
                <section>
                    <div>
                        <nav class="social-links">
                            <ul><li><a class="no-link" title="Twitter" href="https://twitter.com/walkerwzy" target="_blank" rel="noopener noreferrer nofollow"><i class="gi gi-twitter"></i></a></li><li><a class="no-link" title="GitHub" href="https://github.com/walkerwzy" target="_blank" rel="noopener noreferrer nofollow"><i class="gi gi-github"></i></a></li><li><a class="no-link" title="Weibo" href="https://weibo.com/1071696872" target="_blank" rel="noopener noreferrer nofollow"><i class="gi gi-weibo"></i></a></li></ul>
                        </nav>
                    </div>

                    <section id="prism__external_links">
                        <ul>
                            
                            <li>
                                <a class="no-link" target="_blank" href="https://github.com/AlanDecode/Maverick" rel="noopener noreferrer nofollow">Maverick</a>ï¼šğŸ„â€ Go My Own Way.
                                <span>|</span>
                            </li>
                            
                            <li>
                                <a class="no-link" target="_blank" href="https://www.imalan.cn" rel="noopener noreferrer nofollow">Triple NULL</a>ï¼šHome page for AlanDecode.
                                <span>|</span>
                            </li>
                            
                        </ul>
                    </section>

                    <div class="copyright">
                        <p class="copyright-text">
                            <span class="brand">walker's code blog</span>
                            <span>Copyright Â© 2022 AlanDecode</span>
                        </p>
                        <p class="copyright-text powered-by">
                            | Powered by <a href="https://github.com/AlanDecode/Maverick" class="no-link" target="_blank" rel="noopener noreferrer nofollow">Maverick</a> | Theme <a href="https://github.com/Reedo0910/Maverick-Theme-Prism" target="_blank" class="no-link" rel="noopener noreferrer nofollow">Prism</a>
                        </p>
                    </div>
                    <div class="footer-addon">
                        
                    </div>
                </section>
                <script>
                    var site_build_date = "2019-12-06T12:00+08:00"

                </script>
                <script src="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/assets/prism-efa8685153.js"></script>
            </footer>
        </div>
    </div>
    </div>

    <script src="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/assets/ExSearch/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/assets/ExSearch/ExSearch-493cb9cd89.js"></script>

    <!--katex-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/assets/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/assets/katex.min.js"></script>
    <script>
        mathOpts = {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "\\[", right: "\\]", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false }
            ]
        };

    </script>
    <script defer src="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/assets/auto-render.min.js" onload="renderMathInElement(document.body, mathOpts);"></script>

    
</body>

</html>