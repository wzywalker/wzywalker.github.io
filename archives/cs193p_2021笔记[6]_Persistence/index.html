<!DOCTYPE HTML>
<html lang="english">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <meta name="HandheldFriendly" content="true">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Maverick,AlanDecode,Galileo,blog" />
    <meta name="generator" content="Maverick 1.2.1" />
    <meta name="template" content="Prism" />
    <link rel="alternate" type="application/rss+xml" title="walker's code blog &raquo; RSS 2.0" href="/feed/index.xml" />
    <link rel="alternate" type="application/atom+xml" title="walker's code blog &raquo; ATOM 1.0" href="/feed/atom/index.xml" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/assets/prism-b9d78ff38a.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/assets/ExSearch/ExSearch-182e5a8869.css">
    <link href="https://fonts.googleapis.com/css?family=Fira+Code&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
    <script>
        var ExSearchConfig = {
            root: "",
            api: "https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/a93aed159a38fa1e15f0447f262c225a.json"
        }

    </script>
    
<title>cs193p_2021ç¬”è®°[6]_Persistence - walker's code blog</title>
<meta name="author" content="walker" />
<meta name="description" content="cs193p_2021_ç¬”è®°_1" />
<meta property="og:title" content="cs193p_2021ç¬”è®°[6]_Persistence - walker's code blog" />
<meta property="og:description" content="cs193p_2021_ç¬”è®°_1" />
<meta property="og:site_name" content="walker's code blog" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/archives/cs193p_2021%E7%AC%94%E8%AE%B0%5B6%5D_Persistence/" />
<meta property="og:image" content="" />
<meta property="article:published_time" content="2021-10-24T05:00:00-00.00" />
<meta name="twitter:title" content="cs193p_2021ç¬”è®°[6]_Persistence - walker's code blog" />
<meta name="twitter:description" content="cs193p_2021_ç¬”è®°_1" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="" />


    
</head>

<body>
    <div class="container prism-container">
        <header class="prism-header" id="prism__header">
            <h1 class="text-uppercase brand"><a class="no-link" href="/" target="_self">walker's code blog</a></h1>
            <p>coder, reader</p>
            <nav class="prism-nav"><ul><li><a class="no-link text-uppercase " href="/" target="_self">Home</a></li><li><a class="no-link text-uppercase " href="/archives/" target="_self">Archives</a></li><li><a class="no-link text-uppercase " href="/about/" target="_self">About</a></li><li><a href="#" target="_self" class="search-form-input no-link text-uppercase">Search</a></li></ul></nav>
        </header>
        <div class="prism-wrapper" id="prism__wrapper">
            
<main>
    <section class="prism-section row" id="prism__content">
        <article class="yue col-md-8 offset-md-2">
            <h1 class="prism-post-title">cs193p_2021ç¬”è®°[6]_Persistence</h1>
            <div class="prism-post-time">
                <time class="text-uppercase">
                    October 24 2021
                </time>
            </div>
            <div class="prism-content-body">
                <p><a href="https://www.jianshu.com/p/998b0ef4a2cd">cs193p_2021_ç¬”è®°_1</a>
<a href="https://www.jianshu.com/p/af0ad1bead34">cs193p_2021_ç¬”è®°_2</a>
<a href="https://www.jianshu.com/p/d103f8d12052">cs193p_2021_ç¬”è®°_3_Animation_Transition</a>
<a href="https://www.jianshu.com/p/41e7309c7f55">cs193p_2021_ç¬”è®°_4_Color_Image_Gesture</a>
<a href="https://www.jianshu.com/p/e3c2ee1628c6">cs193p_2021_ç¬”è®°_5_Property Wrapper</a>
cs193p_2021_ç¬”è®°_6_Persistence
<a href="https://www.jianshu.com/p/f4ae879eef9c">cs193p_2021_ç¬”è®°_7_Document Architecture</a>
<a href="https://www.jianshu.com/p/2136bdc2c6f6">cs193p_2021_ç¬”è®°_8</a></p><p>--</p><h1>Persistence</h1>
<p>æŒä¹…åŒ–æ•°æ®çš„æ–¹å¼æœ‰</p><ul>
<li>File systemï¼ˆFileManagerï¼‰</li>
<li>Sqlite/CoreData</li>
<li>iCloud: æ ¹æ®ä¸Šé¢ä¸¤ç§æ ¼å¼å­˜å‚¨</li>
<li>CloutKit: a database in the cloud (network)</li>
<li>UserDefaults</li>
<li>Codable/JSON</li>
<li>UIDocument (UIKit feature)(ä¸Files Appé›†æˆ)</li>
<li>3rd-party</li>
</ul>
<h2>UserDefaults</h2>
<ul>
<li>åªèƒ½å­˜å‚¨<code>Property List</code></li>
<li><code>Property List</code>æ”¯æŒString, Int, Bool, floating point, Date, Data, Array or Dictionary<ul>
<li>ä»»ä½•å…¶å®ƒç±»å‹éœ€è¦è½¬æˆ<code>Property List</code></li>
<li><code>Codable</code> converts structs into <code>Data</code> objects (and <code>Data</code> is a <code>Property List</code>).</li>
</ul>
</li>
</ul>
<div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nv">defaults</span> <span class="p">=</span> <span class="n">UserDefaults</span><span class="p">.</span><span class="n">standard</span>
<span class="n">defaults</span><span class="p">.</span><span class="kr">set</span><span class="p">(</span><span class="n">object</span><span class="p">,</span> <span class="n">forKey</span><span class="p">:</span> <span class="err">â€œ</span><span class="n">SomeKey</span><span class="err">â€</span><span class="p">)</span> <span class="c1">// object must be a Property List</span>
<span class="n">defaults</span><span class="p">.</span><span class="n">setDouble</span><span class="p">(</span><span class="mf">37.5</span><span class="p">,</span> <span class="n">forKey</span><span class="p">:</span> <span class="err">â€œ</span><span class="n">MyDouble</span><span class="err">â€</span><span class="p">)</span>

<span class="c1">// retrive</span>

<span class="kd">let</span> <span class="nv">i</span><span class="p">:</span> <span class="nb">Int</span> <span class="p">=</span> <span class="n">defaults</span><span class="p">.</span><span class="n">integer</span><span class="p">(</span><span class="n">forKey</span><span class="p">:</span> <span class="err">â€œ</span><span class="n">MyInteger</span><span class="err">â€</span><span class="p">)</span>
<span class="kd">let</span> <span class="nv">b</span><span class="p">:</span> <span class="n">Data</span> <span class="p">=</span> <span class="n">defaults</span><span class="p">.</span><span class="n">data</span><span class="p">(</span><span class="n">forKey</span><span class="p">:</span> <span class="err">â€œ</span><span class="n">MyData</span><span class="err">â€</span><span class="p">)</span>
<span class="kd">let</span> <span class="nv">u</span><span class="p">:</span> <span class="n">URL</span> <span class="p">=</span> <span class="n">defaults</span><span class="p">.</span><span class="n">url</span><span class="p">(</span><span class="n">forKey</span><span class="p">:</span> <span class="err">â€œ</span><span class="n">MyURL</span><span class="err">â€</span><span class="p">)</span>
<span class="kd">let</span> <span class="nv">strings</span><span class="p">:</span> <span class="p">[</span><span class="nb">String</span><span class="p">]</span> <span class="p">=</span> <span class="n">defaults</span><span class="p">.</span><span class="n">stringArray</span><span class="p">(</span><span class="n">forKey</span><span class="p">:</span> <span class="err">â€œ</span><span class="n">MyString</span><span class="err">â€</span><span class="p">)</span> 
<span class="c1">// etc.</span>
<span class="c1">// Retrieving Arrays of anything but String is more complicated ...</span>
<span class="kd">let</span> <span class="nv">a</span> <span class="p">=</span> <span class="n">defaults</span><span class="p">.</span><span class="n">array</span><span class="p">(</span><span class="n">forKey</span><span class="p">:</span> <span class="err">â€œ</span><span class="n">MyArray</span><span class="err">â€</span><span class="p">)</span> <span class="c1">// will return Array&lt;Any&gt;</span>
<span class="c1">// æœ€å¥½ç”¨Codableçš„data(forKey:)æ›¿ä»£</span>
</pre></div>
<h2>Core Data</h2>
<p>SwiftUIè¿›è¡Œçš„é›†æˆ:</p><ul>
<li>åˆ›å»ºçš„å¯¹è±¡æ˜¯<code>ObservableObjects</code></li>
<li>ä¸€ä¸ªproperty wrapper <code>@FetchRequest</code></li>
<li>ç®¡ç†å¯¹è±¡(context)æ˜¯<code>NSManagedObjectContext</code></li>
<li>contexté€šè¿‡<code>@Environment</code>ä¼ å…¥</li>
</ul>
<p>demo:</p><div class="highlight"><pre><span></span><span class="p">@</span><span class="n">Environnment</span><span class="p">(</span><span class="err">\</span><span class="p">.</span><span class="n">managedObjectContext</span><span class="p">)</span> <span class="kd">var</span> <span class="nv">context</span>
<span class="kd">let</span> <span class="nv">flight</span> <span class="p">=</span> <span class="n">Flight</span><span class="p">(</span><span class="n">context</span><span class="p">:</span> <span class="n">context</span><span class="p">)</span>
<span class="n">flight</span><span class="p">.</span><span class="n">aircraft</span> <span class="p">=</span> <span class="err">â€œ</span><span class="n">B737</span><span class="err">â€</span> <span class="c1">// etc.</span>

<span class="kd">let</span> <span class="nv">ksjc</span> <span class="p">=</span> <span class="n">Airport</span><span class="p">(</span><span class="n">context</span><span class="p">:</span> <span class="n">context</span><span class="p">)</span>
<span class="n">ksjc</span><span class="p">.</span><span class="n">icao</span> <span class="p">=</span> <span class="err">â€œ</span><span class="n">KSJC</span><span class="err">â€</span> <span class="c1">// etc.</span>

<span class="n">flight</span><span class="p">.</span><span class="n">origin</span> <span class="p">=</span> <span class="n">ksjc</span> <span class="c1">// this would add flight to ksjc.flightsFrom too try? context.save()</span>

<span class="kd">let</span> <span class="nv">request</span> <span class="p">=</span> <span class="bp">NSFetchRequest</span><span class="p">&lt;</span><span class="n">Flight</span><span class="p">&gt;(</span><span class="n">entityName</span><span class="p">:</span> <span class="err">â€œ</span><span class="n">Flight</span><span class="err">â€</span><span class="p">)</span> <span class="n">request</span><span class="p">.</span><span class="n">predicate</span> <span class="p">=</span>
<span class="bp">NSPredicate</span><span class="p">(</span><span class="n">format</span><span class="p">:</span> <span class="err">â€œ</span><span class="n">arrival</span> <span class="o">&lt;</span> <span class="o">%</span><span class="p">@</span> <span class="n">and</span> <span class="n">origin</span> <span class="p">=</span> <span class="o">%</span><span class="p">@</span><span class="err">â€œ</span><span class="p">,</span> <span class="n">Date</span><span class="p">(),</span> <span class="n">ksjc</span><span class="p">)</span> 
<span class="n">request</span><span class="p">.</span><span class="n">sortDescriptors</span> <span class="p">=</span> <span class="p">[</span><span class="bp">NSSortDescriptor</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="err">â€œ</span><span class="n">ident</span><span class="err">â€</span><span class="p">,</span> <span class="n">ascending</span><span class="p">:</span> <span class="kc">true</span><span class="p">)]</span> 

<span class="kd">let</span> <span class="nv">flights</span> <span class="p">=</span> <span class="k">try</span><span class="p">?</span> <span class="n">context</span><span class="p">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">request</span><span class="p">)</span> <span class="c1">// past KSJC flights sorted by ident</span>
<span class="c1">// flights is nil if fetch failed, [] if no such flights, otherwise [Flight]</span>
</pre></div>
<p>ä»¥ä¸Šæ˜¯core dataéƒ¨åˆ†ï¼Œè¿˜æ˜¯æµ“æµ“çš„OCçš„ç—•è¿¹ï¼Œçœ‹çœ‹Swift UIçš„ç‰ˆæœ¬ã€‚</p><p>é¦–å…ˆï¼Œä¸Šè¿°çš„<code>Flights, Airports</code>éƒ½æ˜¯ViewModelã€‚å®ƒè‡ªç„¶æ‹¥æœ‰å®ƒçš„<code>Property Wrapper</code>:</p><div class="highlight"><pre><span></span><span class="p">@</span><span class="n">FetchRequest</span><span class="p">(</span><span class="n">entity</span><span class="p">:</span><span class="n">sortDescriptors</span><span class="p">:</span><span class="n">predicate</span><span class="p">:)</span> <span class="kd">var</span> <span class="nv">flights</span><span class="p">:</span> <span class="n">FetchedResults</span><span class="p">&lt;</span><span class="n">Flight</span><span class="p">&gt;</span>
<span class="p">@</span><span class="n">FetchRequest</span><span class="p">(</span><span class="n">fetchRequest</span><span class="p">:)</span> <span class="kd">var</span> <span class="nv">airports</span><span class="p">:</span> <span class="n">FetchedResults</span><span class="p">&lt;</span><span class="n">Airport</span><span class="p">&gt;</span>

<span class="c1">// flights and airports will continuously update as the database changes. </span>
<span class="n">ForEach</span><span class="p">(</span><span class="n">flights</span><span class="p">)</span> <span class="p">{</span> <span class="n">flight</span> <span class="k">in</span>
    <span class="c1">// UI for a flight built using flight </span>
<span class="p">}</span>

<span class="c1">// bi-binding</span>
<span class="n">_flights</span> <span class="p">=</span> <span class="n">FetchRequest</span><span class="p">(...)</span>
</pre></div>
<h2>Cloud Kit</h2>
<p>ä¸Šä¸ªdemoå§</p><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nv">db</span> <span class="p">=</span> <span class="bp">CKContainer</span><span class="p">.</span><span class="k">default</span><span class="p">.</span><span class="kd">public</span><span class="o">/</span><span class="n">shared</span><span class="o">/</span><span class="n">privateCloudDatabase</span> 
<span class="c1">// Recordç†è§£ä¸ºTable</span>
<span class="kd">let</span> <span class="nv">tweet</span> <span class="p">=</span> <span class="bp">CKRecord</span><span class="p">(</span><span class="err">â€œ</span><span class="n">Tweet</span><span class="err">â€</span><span class="p">)</span>
<span class="c1">// ç´¢å¼•ç†è§£ä¸ºField</span>
<span class="n">tweet</span><span class="p">[</span><span class="err">â€œ</span><span class="n">text</span><span class="err">â€</span><span class="p">]</span> <span class="p">=</span> <span class="err">â€œ</span><span class="mi">140</span> <span class="n">characters</span> <span class="n">of</span> <span class="n">pure</span> <span class="n">joy</span><span class="err">â€</span>
<span class="kd">let</span> <span class="nv">tweeter</span> <span class="p">=</span> <span class="bp">CKRecord</span><span class="p">(</span><span class="err">â€œ</span><span class="n">TwitterUser</span><span class="err">â€</span><span class="p">)</span>
<span class="n">tweet</span><span class="p">[</span><span class="err">â€œ</span><span class="n">tweeter</span><span class="err">â€</span><span class="p">]</span> <span class="p">=</span> <span class="bp">CKReference</span><span class="p">(</span><span class="n">record</span><span class="p">:</span> <span class="n">tweeter</span><span class="p">,</span> <span class="n">action</span><span class="p">:</span> <span class="p">.</span><span class="n">deleteSelf</span><span class="p">)</span>
<span class="n">db</span><span class="p">.</span><span class="n">save</span><span class="p">(</span><span class="n">tweet</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="n">savedRecord</span><span class="p">:</span> <span class="bp">CKRecord</span><span class="p">?,</span> <span class="n">error</span><span class="p">:</span> <span class="bp">NSError</span><span class="p">?)</span> <span class="p">-&gt;</span> <span class="nb">Void</span> <span class="k">in</span>
    <span class="k">if</span> <span class="n">error</span> <span class="p">==</span> <span class="kc">nil</span> <span class="p">{</span>
    <span class="c1">// hooray!</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="n">error</span><span class="p">?.</span><span class="n">errorCode</span> <span class="p">==</span> <span class="n">CKErrorCode</span><span class="p">.</span> <span class="n">NotAuthenticated</span><span class="p">.</span><span class="n">rawValue</span> <span class="p">{</span>
        <span class="c1">// tell user he or she has to be logged in to iCloud for this to work!</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// report other errors (there are 29 different CKErrorCodes!) </span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Query</span>
<span class="c1">// ç±»ä¼¼core data, æ„é€ predict, request(å°±æ˜¯query)å³å¯</span>

<span class="kd">let</span> <span class="nv">predicate</span> <span class="p">=</span> <span class="bp">NSPredicate</span><span class="p">(</span><span class="n">format</span><span class="p">:</span> <span class="err">â€œ</span><span class="n">text</span> <span class="bp">contains</span> <span class="o">%</span><span class="p">@</span><span class="err">â€œ</span><span class="p">,</span> <span class="n">searchString</span><span class="p">)</span>
<span class="kd">let</span> <span class="nv">query</span> <span class="p">=</span> <span class="bp">CKQuery</span><span class="p">(</span><span class="n">recordType</span><span class="p">:</span> <span class="err">â€œ</span><span class="n">Tweet</span><span class="err">â€</span><span class="p">,</span> <span class="n">predicate</span><span class="p">:</span> <span class="n">predicate</span><span class="p">)</span>
<span class="n">db</span><span class="p">.</span><span class="n">perform</span><span class="p">(</span><span class="n">query</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="n">records</span><span class="p">:</span> <span class="p">[</span><span class="bp">CKRecord</span><span class="p">]?,</span> <span class="n">error</span><span class="p">:</span> <span class="bp">NSError</span><span class="p">?)</span> <span class="k">in</span>
    <span class="k">if</span> <span class="n">error</span> <span class="p">==</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="c1">// records will be an array of matching CKRecords</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="n">error</span><span class="p">?.</span><span class="n">errorCode</span> <span class="p">==</span> <span class="n">CKErrorCode</span><span class="p">.</span><span class="n">NotAuthenticated</span><span class="p">.</span><span class="n">rawValue</span> <span class="p">{</span>
        <span class="c1">// tell user he or she has to be logged in to iCloud for this to work!</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// report other errors (there are 29 different CKErrorCodes!) </span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p>One of the coolest features of Cloud Kit is its ability to <code>send push notifications</code> on changes. All you do is register an <code>NSPredicate</code> and whenever the database changes to match it,</p><h2>File System</h2>
<p>SandboxåŒ…å«ï¼š</p><ul>
<li>Application directory â€” Your executable, .jpgs, etc.; not writeable.</li>
<li>Documents directory â€” Permanent storage created by and always visible to the user.</li>
<li>Application Support directory â€” Permanent storage not seen directly by the user.</li>
<li>Caches directory â€” Store temporary files here (this is not backed up).</li>
<li>Other directories (see documentation)</li>
<li>...</li>
</ul>
<div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nv">url</span><span class="p">:</span> <span class="n">URL</span> <span class="p">=</span> <span class="n">FileManager</span><span class="p">.</span><span class="k">default</span><span class="p">.</span><span class="n">url</span><span class="p">(</span>
    <span class="k">for</span> <span class="n">directory</span><span class="p">:</span> <span class="n">FileManager</span><span class="p">.</span><span class="n">SearchPathDirectory</span><span class="p">.</span><span class="n">documentDirectory</span><span class="p">,</span> <span class="c1">// for example </span>
    <span class="k">in</span> <span class="n">domainMask</span><span class="p">:</span> <span class="p">.</span><span class="n">userDomainMask</span> <span class="c1">// always .userDomainMask on iOS</span>
    <span class="n">appropriateFor</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span> <span class="c1">// only meaningful for â€œreplaceâ€ file operations</span>
    <span class="n">create</span><span class="p">:</span> <span class="kc">true</span> <span class="c1">// whether to create the system directory if it doesnâ€™t already exist</span>
 <span class="p">)</span>
</pre></div>
<p>Examples of SearchPathDirectory values :</p><div class="highlight"><pre><span></span><span class="p">.</span><span class="n">documentDirectory</span><span class="p">,</span> 
<span class="p">.</span><span class="n">applicationSupportDirectory</span><span class="p">,</span> 
<span class="p">.</span><span class="n">cachesDirectory</span><span class="p">,</span> 
<span class="n">etc</span><span class="p">.</span>
</pre></div>
<p>å†åˆ—äº›å¸¸ç”¨apiï¼š</p><div class="highlight"><pre><span></span><span class="c1">// URL</span>

<span class="kd">func</span> <span class="nf">appendingPathComponent</span><span class="p">(</span><span class="nb">String</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="n">URL</span>
<span class="kd">func</span> <span class="nf">appendingPathExtension</span><span class="p">(</span><span class="nb">String</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="n">URL</span> <span class="c1">// e.g. â€œjpgâ€</span>
<span class="kd">var</span> <span class="nv">isFileURL</span><span class="p">:</span> <span class="nb">Bool</span> <span class="c1">// is this a file URL (whether file exists or not) or something else? </span>
<span class="kd">func</span> <span class="nf">resourceValues</span><span class="p">(</span><span class="k">for</span> <span class="n">keys</span><span class="p">:</span> <span class="p">[</span><span class="n">URLResourceKey</span><span class="p">])</span> <span class="kr">throws</span> <span class="p">-&gt;</span> <span class="p">[</span><span class="n">URLResourceKey</span><span class="p">:</span><span class="nb">Any</span><span class="p">]?</span> 
<span class="c1">// Example keys: .creationDateKey, .isDirectoryKey, .fileSizeKey</span>

<span class="c1">// Data</span>

<span class="c1">// retrive binary data</span>
<span class="c1">// option almost always []</span>
<span class="kd">init</span><span class="p">(</span><span class="n">contentsOf</span><span class="p">:</span> <span class="n">URL</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Data</span><span class="p">.</span><span class="n">ReadingOptions</span><span class="p">)</span> <span class="kr">throws</span> 
<span class="c1">// write</span>
<span class="c1">// The options can be things like .atomic (write to tmp file, then swap) or .withoutOverwriting.</span>
<span class="kd">func</span> <span class="nf">write</span><span class="p">(</span><span class="n">to</span> <span class="n">url</span><span class="p">:</span> <span class="n">URL</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Data</span><span class="p">.</span><span class="n">WritingOptions</span><span class="p">)</span> <span class="kr">throws</span> <span class="p">-&gt;</span> <span class="nb">Bool</span>

<span class="c1">// FileManager</span>
<span class="n">fileExists</span><span class="p">(</span><span class="n">atPath</span><span class="p">:</span> <span class="nb">String</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="nb">Bool</span>
<span class="c1">// Can also create and enumerate directories; move, copy, delete files; etc.</span>
</pre></div>
<h2>Codable</h2>
<ul>
<li>ä¿ç•™ä¸€ä¸ªå¯¹è±¡æ‰€æœ‰çš„varï¼ˆå˜é‡ï¼‰çš„æœºåˆ¶</li>
<li>å¦‚æœä¸€ä¸ªStructå®ƒçš„æˆå‘˜å˜æ˜¯Codableçš„ï¼Œé‚£ä¹ˆSwiftä¼šå¸®ä½ æŠŠè¿™ä¸ªStructå®ç°Codableï¼Œæ¯”å¦‚æ²¡æœ‰associated dataçš„Enumã€‚</li>
<li>å¸®ä½ å®ç°ä¸ä»£è¡¨ä¸è¦æ˜¾å¼å£°æ˜</li>
<li>åŸºç¡€ç±»å‹åŸºæœ¬ä¸Šéƒ½å®ç°äº†Codable</li>
</ul>
<div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nv">object</span><span class="p">:</span> <span class="n">MyType</span> <span class="p">=</span> <span class="p">...</span>
<span class="c1">// encode</span>
<span class="kd">let</span> <span class="nv">jsonData</span><span class="p">:</span> <span class="n">Data</span><span class="p">?</span> <span class="p">=</span> <span class="k">try</span><span class="p">?</span> <span class="n">JSONEncoder</span><span class="p">().</span><span class="n">encode</span><span class="p">(</span><span class="n">object</span><span class="p">)</span>

<span class="c1">// write file</span>
<span class="k">try</span> <span class="n">jsonData</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">to</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span>

<span class="c1">// deocde as string</span>
<span class="kd">let</span> <span class="nv">jsonString</span> <span class="p">=</span> <span class="nb">String</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">jsonData</span><span class="p">!,</span> <span class="n">encoding</span><span class="p">:</span> <span class="p">.</span><span class="n">utf8</span><span class="p">)</span>

<span class="c1">// decode as object</span>
<span class="kd">let</span> <span class="nv">myObject</span><span class="p">:</span> <span class="n">MyType</span> <span class="p">=</span> <span class="k">try</span><span class="p">?</span> <span class="n">JSONDecoder</span><span class="p">().</span><span class="n">decode</span><span class="p">(</span><span class="n">MyType</span><span class="p">.</span><span class="kc">self</span><span class="p">,</span> <span class="n">from</span><span class="p">:</span> <span class="n">jsonData</span><span class="p">!)</span>
<span class="c1">// ä»å­—ç¬¦ä¸²åˆ°å¯¹è±¡æ²¡æœ‰ä¸€æ­¥åˆ°ä½çš„åŠæ³•ï¼Œåªèƒ½å…ˆstring-&gt;Data</span>
<span class="kd">let</span> <span class="nv">data</span> <span class="p">=</span> <span class="n">jsstring</span><span class="p">.</span><span class="n">data</span><span class="p">(</span><span class="n">using</span><span class="p">:</span> <span class="p">.</span><span class="n">utf8</span><span class="p">)</span> <span class="c1">// å†æŠŠdataä¼ åˆ°ä¸Šæœ¯æ–¹æ³•é‡Œ</span>
</pre></div>
<p>encode, decodeæ˜¯ä¼šthrowçš„ï¼Œæ³¨æ„try_catchç›¸åº”çš„Errorï¼Œæ¯”å¦‚<code>.keyNotFound, .dataCorrupted...</code></p><h3>CodingKeys</h3>
<p>jsonä¸å¯¹è±¡ç›¸äº’è¿›è¡Œè½¬åŒ–æœ‰ä¸€ä¸ªé€šç”¨çš„éœ€æ±‚ï¼Œå°±æ˜¯é”®çš„æ˜ å°„ï¼Œè¿™æ›´å¸¸ç”¨åœ¨å¤–éƒ¨APIä¸æœ¬åœ°ç±»çš„æ˜ å°„ä¸­ï¼Œæ¯”å¦‚userIdï¼Œåˆ«äººå«guestIdï¼Œç­‰ç­‰ï¼ŒSwiftä¸­ï¼Œç”¨ä¸€ä¸ªå«<code>CodingKeys</code>çš„æšä¸¾æ¥å®ç°è¿™ä¸ªæ˜ å°„ï¼š</p><div class="highlight"><pre><span></span><span class="kd">private</span> <span class="kd">enum</span> <span class="nc">CodingKeys</span><span class="p">:</span> <span class="nb">String</span><span class="p">,</span> <span class="n">CodingKey</span> <span class="p">{</span>
    <span class="k">case</span> <span class="n">uid</span> <span class="p">=</span> <span class="s">&quot;user_id&quot;</span>
    <span class="k">case</span> <span class="n">someDate</span> <span class="p">=</span> <span class="s">&quot;some_date&quot;</span>
    <span class="k">case</span> <span class="n">pname</span> <span class="p">=</span> <span class="s">&quot;panme&quot;</span> <span class="c1">// è¡¨ç¤ºåœ¨JSONä¸­ä¹Ÿå«è¿™ä¸ªåå­— </span>
    <span class="k">case</span> <span class="n">sku</span> <span class="c1">// å¦‚æœåå­—ä¸€æ ·çš„è¯ï¼Œå¯ä»¥è¿™ä¹ˆç®€å†™ </span>
    <span class="c1">// ä½†æ˜¯ä¸å†™çš„è¯ï¼Œåºåˆ—åŒ–çš„æ—¶å€™å°±ä¸ä¼šåºåˆ—è¿™ä¸ªå­—æ®µäº†</span>
    <span class="c1">// è§£ç æ—¶ä¼šæœ‰ KeyNotFound ç±»çš„é”™è¯¯</span>
<span class="p">}</span>

<span class="c1">// ç»“åˆèµ·æ¥ï¼Œç”¨åœ¨initä¸­</span>
<span class="kd">init</span><span class="p">(</span><span class="n">from</span> <span class="n">decoder</span><span class="p">:</span> <span class="n">Decoder</span><span class="p">)</span> <span class="kr">throws</span> <span class="p">{</span>
    <span class="c1">// containeræ˜¯åˆ‡å…¥ç‚¹ï¼Œè¦å¼„æ¸…æ¥š</span>
    <span class="c1">// å¦‚æœæ²¡æœ‰æ‰‹å†™é”®çš„æ˜ å°„è¡¨ï¼Œé‚£ä¹ˆkeydByå°±æ˜¯è‡ªå·±</span>
    <span class="kd">let</span> <span class="nv">container</span> <span class="p">=</span> <span class="k">try</span> <span class="n">decoder</span><span class="p">.</span><span class="n">container</span><span class="p">(</span><span class="n">keyedBy</span><span class="p">:</span> <span class="n">CodingKeys</span><span class="p">.</span><span class="kc">self</span><span class="p">)</span>
    <span class="n">someDate</span> <span class="p">=</span> <span class="k">try</span> <span class="n">container</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">Date</span><span class="p">.</span><span class="kc">self</span><span class="p">,</span> <span class="n">forKey</span><span class="p">:</span> <span class="p">.</span><span class="n">someDate</span><span class="p">)</span> 
    <span class="c1">// ä»jsonä¸­åŠ è½½.someDateå¯¹åº”çš„é”®çš„å€¼ï¼Œå°è¯•è§£ç æˆDate</span>
    <span class="c1">// other vars (æ¯ç§caseå¿…é¡»å…¨éƒ¨éƒ½æœ‰)</span>
<span class="p">}</span>
</pre></div>
<h3>Enum</h3>
<p>åºåˆ—åŒ–æšä¸¾æœ‰ç‚¹å¤æ‚ï¼š</p><ol>
<li>ç®€å•æšä¸¾åº”è¯¥æ€ä¹ˆåºåˆ—åŒ–ï¼Ÿ å…¶å®æ˜¯åºåˆ—åŒ–æˆcaseå¯¹åº”çš„åå­—å’Œè¡¨ç¤ºç©ºJSONçš„<code>{}</code>ç»„æˆçš„é”®å€¼å¯¹ï¼Œæ¯”å¦‚<code>{&quot;math&quot;:{}}</code></li>
<li>æœ‰å…³è”æ•°æ®çš„æšä¸¾å‘¢ï¼Ÿ é‚£å°±å¾—è‡ªå·±æä¾›<code>encoder</code>:<ul>
<li><code>case url: try container.encode(url, forKey: .url)</code> å³å¯¹ç›¸åº”çš„æšä¸¾å€¼è¿›è¡Œç›¸åº”çš„encode</li>
</ul>
</li>
<li>å¹¶ä¸”è‡ªè¡Œdecodeï¼Œä½†æ˜¯ä¸structï¼ˆä¸ºæ¯ä¸€ä¸ªkeyå¡«å€¼ï¼‰ä¸åŒï¼Œå› ä¸ºæšä¸¾å˜é‡åªæ˜¯ä¸€ä¸ªå€¼ï¼Œæ‰€ä»¥æ˜¯ä¾æ¬¡å°è¯•ï¼Œè§£ç æˆåŠŸå°±è®¤å®šæ˜¯é‚£ä¸€ä¸ªæšä¸¾å€¼</li>
</ol>
<div class="highlight"><pre><span></span><span class="k">if</span> <span class="kd">let</span> <span class="nv">url</span> <span class="p">=</span> <span class="k">try</span><span class="p">?</span> <span class="n">container</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">URL</span><span class="p">.</span><span class="kc">self</span><span class="p">,</span> <span class="n">forKey</span><span class="p">:</span> <span class="p">.</span><span class="n">url</span><span class="p">)</span> <span class="p">{</span>
    <span class="kc">self</span> <span class="p">=</span> <span class="p">.</span><span class="n">url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">...</span> <span class="c1">// åˆ«çš„å°è¯•</span>

<span class="c1">// æ­¤å¥çš„ä½œç”¨æ˜¯æ ¹æ®.urlå¯¹åº”çš„é”®åï¼Œå–å‡ºå€¼ï¼Œåå°„æˆURLå¯¹è±¡ï¼Œå¦‚æœæˆåŠŸï¼Œé‚£ä¹ˆè¿™ä¸ªæšä¸¾å€¼æ˜¯.urlæ— ç–‘</span>
<span class="c1">// è€Œä¸”å…³è”æ•°æ®å°±æ˜¯åå°„çš„ç»“æœ</span>
<span class="c1">// å¦‚æœå¤±è´¥ï¼Œç»§ç»­æ¢ä¸€ä¸ªé”®åï¼Œå°†å¯¹åº”çš„å€¼è½¬æˆå¯¹åº”çš„ç±»å‹ï¼Œä¾æ¬¡ç±»æ¨</span>
</pre></div>
<ol start="4">
<li>é‚£ä¹ˆå¦‚ä½•æ‰‹åŠ¨decodeä¸€ä¸ªåŸå§‹çš„æšä¸¾å‘¢ï¼Ÿ<ul>
<li>æˆ‘ä»¬çŸ¥é“ä¸Šè¿°å®è·µæ˜¯ä¸ºäº†åå°„å‡ºå…³è”æ•°æ®ï¼Œå¹¶ä¸”æ ¹æ®èƒ½å¤ŸæˆåŠŸåå°„å…³è”æ•°æ®æ¥åˆ¤æ–­æšä¸¾ç±»å‹</li>
<li>åŸå§‹æšä¸¾éœ€è¦encodeå“ªä¸ªå€¼å‘¢ï¼Ÿ-&gt; ç›®å‰æˆ‘åªèƒ½åšä¸€ä¸ªç©º<code>struct</code>æ¥å®ç°åºåˆ—åŒ–æˆ<code>{}</code>çš„ç›®çš„ -&gt; ä¸ºäº†è·Ÿé»˜è®¤å½¢æ€ä¿æŒä¸€è‡´<ul>
<li>äº‹å®ä¸Šä½ æ˜¯å¯ä»¥encodeæˆä»»æ„å€¼çš„ï¼ˆæ¯”å¦‚100ï¼Œ&quot;hello&quot;ï¼Œå› ä¸ºæˆ‘ä»¬åªå…³å¿ƒæœ‰æ²¡æœ‰è¿™ä¸ªé”®ï¼Œæœ‰çš„è¯ï¼Œå°±æ˜¯è¿™ä¸ªæšä¸¾ç±»å‹ï¼Œåªæ˜¯<code>{}</code>æ‹¥æœ‰å¯è¯»æ€§</li>
<li>ä½ encodeæˆä»€ä¹ˆå€¼ï¼Œdecodeçš„æ—¶å€™å¯¹å¯¹åº”çš„é”®å°è¯•å»åå°„å›è¿™ä¸ªå€¼å°±è¡Œäº†</li>
</ul>
</li>
</ul>
</li>
</ol>
<p>æœ€åï¼Œæ€è€ƒé¢˜ï¼š</p><blockquote>
<p>ä¸Šé¢è¯´äº†ï¼ŒåŸç”Ÿæšä¸¾åºåˆ—åŒ–æˆï¼š <code>{&quot;math&quot;:{}}</code>ï¼Œä¹Ÿè¯´äº†ï¼Œå¦‚æœï¼Œé”®å¯¹åº”çš„å€¼å¯¹åŸç”Ÿæšä¸¾åºåˆ—åŒ–æ˜¯æ²¡æ„ä¹‰çš„ï¼Œå¯ä»¥æ˜¯ä»»ä½•å€¼ï¼Œé‚£ä¹ˆå¯¹äº<code>{&quot;math&quot;:100}</code>ï¼Œèƒ½å¦é¡ºåºåºåˆ—åŒ–å›å…¶æšä¸¾å½¢æ€<code>.math</code>å‘¢ï¼Ÿ</p></blockquote>
<p>ç­”æ¡ˆï¼š</p><ol>
<li>å€¼ä¸º100æŠ¥é”™äº†</li>
<li>äºæ˜¯æˆ‘æ”¹ä¸º&quot;&quot;æˆ–&quot;otherâ€œç­‰å­—ç¬¦ä¸²æˆ–ç©ºå­—ç¬¦ä¸²ï¼Œè§£ç çš„ç»“æœæ˜¯<code>nil</code></li>
</ol>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œé»˜è®¤çš„decodeåªè®¤<code>{}</code></p><figure  style="flex: 82.77310924369748" ><img width="1182" height="714" src="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/archives/assets/c3a4240a7582937166f9300c35b4e868.png" alt=""/></figure><p>è€Œå‰é¢æˆ‘ä»¬çŸ¥é“äº†ï¼Œå¦‚æœæ˜¯è‡ªå·±æ‰‹å†™ï¼Œå®ƒå¯ä»¥æ˜¯ä»»ä½•å€¼ï¼Œå®ƒçš„æ„ä¹‰ä»…ä»…æ˜¯ä¸ªæ ‡è¯†ï¼Œå¹¶ä¸ä¼šå–å®ƒçš„å€¼ã€‚éªŒè¯ï¼š</p><div class="highlight"><pre><span></span><span class="kd">enum</span> <span class="nc">NormEnum</span><span class="p">:</span> <span class="n">Codable</span> <span class="p">{</span>
    <span class="k">case</span> <span class="n">history</span><span class="p">,</span> <span class="n">math</span><span class="p">,</span> <span class="n">geometry</span>

    <span class="kd">private</span> <span class="kd">enum</span> <span class="nc">keyMap</span><span class="p">:</span> <span class="nb">String</span><span class="p">,</span> <span class="n">CodingKey</span><span class="p">{</span>
        <span class="k">case</span> <span class="n">history</span>  <span class="p">=</span> <span class="s">&quot;HIST&quot;</span>
        <span class="k">case</span> <span class="n">math</span>     <span class="p">=</span> <span class="s">&quot;MATH&quot;</span>
        <span class="k">case</span> <span class="n">geometry</span> <span class="p">=</span> <span class="s">&quot;GEOM&quot;</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">encode</span><span class="p">(</span><span class="n">to</span> <span class="n">encoder</span><span class="p">:</span> <span class="n">Encoder</span><span class="p">)</span> <span class="kr">throws</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nv">container</span> <span class="p">=</span> <span class="k">try</span> <span class="n">encoder</span><span class="p">.</span><span class="n">container</span><span class="p">(</span><span class="n">keyedBy</span><span class="p">:</span> <span class="n">keyMap</span><span class="p">.</span><span class="kc">self</span><span class="p">)</span>
        <span class="k">switch</span> <span class="kc">self</span><span class="p">{</span>
        <span class="k">case</span> <span class="p">.</span><span class="n">history</span><span class="p">:</span> <span class="k">try</span> <span class="n">container</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">forKey</span><span class="p">:</span> <span class="p">.</span><span class="n">history</span><span class="p">)</span>
        <span class="k">case</span> <span class="p">.</span><span class="n">math</span><span class="p">:</span> <span class="k">try</span> <span class="n">container</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">forKey</span><span class="p">:</span> <span class="p">.</span><span class="n">math</span><span class="p">)</span>
        <span class="k">case</span> <span class="p">.</span><span class="n">geometry</span><span class="p">:</span> <span class="k">try</span> <span class="n">container</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">forKey</span><span class="p">:</span> <span class="p">.</span><span class="n">geometry</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">init</span><span class="p">(</span><span class="n">from</span> <span class="n">decoder</span><span class="p">:</span> <span class="n">Decoder</span><span class="p">)</span> <span class="kr">throws</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nv">container</span> <span class="p">=</span> <span class="k">try</span> <span class="n">decoder</span><span class="p">.</span><span class="n">container</span><span class="p">(</span><span class="n">keyedBy</span><span class="p">:</span> <span class="n">keyMap</span><span class="p">.</span><span class="kc">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="kd">let</span> <span class="nv">s</span> <span class="p">=</span> <span class="k">try</span><span class="p">?</span> <span class="n">container</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="nb">String</span><span class="p">.</span><span class="kc">self</span><span class="p">,</span> <span class="n">forKey</span><span class="p">:</span> <span class="p">.</span><span class="n">history</span><span class="p">)</span> <span class="p">{</span>
            <span class="kc">self</span> <span class="p">=</span> <span class="p">.</span><span class="n">history</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="kd">let</span> <span class="nv">s</span> <span class="p">=</span> <span class="k">try</span><span class="p">?</span> <span class="n">container</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="nb">String</span><span class="p">.</span><span class="kc">self</span><span class="p">,</span> <span class="n">forKey</span><span class="p">:</span> <span class="p">.</span><span class="n">math</span><span class="p">)</span> <span class="p">{</span>
            <span class="kc">self</span> <span class="p">=</span> <span class="p">.</span><span class="n">math</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="kc">self</span> <span class="p">=</span> <span class="p">.</span><span class="n">geometry</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p>ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘å°†ä¸‰ä¸ªå­—æ®µå…¨éƒ¨ç”¨ç©ºå­—ç¬¦ä¸²ç¼–ç ï¼Œå¹¶ä¸”ç»™äº†ä¸‰ä¸ªä¸åŒçš„é”®åï¼Œç°åœ¨ï¼Œæˆ‘çœŸå…¥ä»»æ„å€¼ï¼Œæ¯”å¦‚<code>&quot;HAHA&quot;</code>ï¼Œè§£ç çœ‹çœ‹ï¼š</p><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nv">js2</span> <span class="p">=</span> <span class="s">&quot;{</span><span class="se">\&quot;</span><span class="s">MATH</span><span class="se">\&quot;</span><span class="s">:</span><span class="se">\&quot;</span><span class="s">HAHA</span><span class="se">\&quot;</span><span class="s">}&quot;</span>
<span class="kd">let</span> <span class="nv">js2d</span> <span class="p">=</span> <span class="n">js2</span><span class="p">.</span><span class="n">data</span><span class="p">(</span><span class="n">using</span><span class="p">:</span> <span class="p">.</span><span class="n">utf8</span><span class="p">)</span>
<span class="kd">let</span> <span class="nv">myobj2</span> <span class="p">=</span> <span class="k">try</span><span class="p">?</span> <span class="n">JSONDecoder</span><span class="p">().</span><span class="n">decode</span><span class="p">(</span><span class="n">NormEnum</span><span class="p">.</span><span class="kc">self</span><span class="p">,</span> <span class="n">from</span><span class="p">:</span> <span class="n">js2d</span><span class="p">!)</span>
</pre></div>
<p>ç»“æœæˆåŠŸè®¤å‡ºmyobj2æ˜¯ä¸€ä¸ª<code>.math</code>ã€‚åŸç†å½“ç„¶æ˜¯æˆ‘çš„ä»£ç é‡Œåœ¨å°è¯•è½¬æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œæ²¡æœ‰é™å®šæ˜¯ä»€ä¹ˆå­—ç¬¦ä¸²ã€‚</p>
            </div>
        </article>
        <div class="prism-post-meta col-md-8 offset-md-2">
    <span>walker</span>
    
    <span>/</span>
    <span>
        <a class="category no-link" href="/category/posts/" target="_self">
        posts
        </a>
    </span>
    
    
    <span>/</span>
    
    <span class="prism-tag">
        <a class="no-link" href="/tag/cs193p/" target="_self">#cs193p</a>
    </span>
    
    <span class="prism-tag">
        <a class="no-link" href="/tag/userdefaults/" target="_self">#userdefaults</a>
    </span>
    
    <span class="prism-tag">
        <a class="no-link" href="/tag/core%20data/" target="_self">#core data</a>
    </span>
    
    <span class="prism-tag">
        <a class="no-link" href="/tag/codable/" target="_self">#codable</a>
    </span>
    
    <span class="prism-tag">
        <a class="no-link" href="/tag/cloudkit/" target="_self">#cloudkit</a>
    </span>
    
    
    
    <span>/</span>
    <span class="leancloud_visitors" id="/archives/cs193p_2021%E7%AC%94%E8%AE%B0%5B6%5D_Persistence/" data-flag-title="cs193p_2021ç¬”è®°[6]_Persistence"><span class="leancloud-visitors-count"></span> Views</span>
    
</div>
    </section>

    
<section id="prism__pagination" class="prism-pagination" class="col-md-8 offset-md-2">
    <ul>
        
        <li class="next">
            <a class="no-link" href="/archives/cs193p_2021%E7%AC%94%E8%AE%B0%5B7%5D_Document-Architecture/" target="_self" title="cs193p_2021ç¬”è®°[7]_Document-Architecture"><i class="fa fa-chevron-left" aria-hidden="true"></i>Newer</a>
        </li>
        
        
        <li class="prev">
            <a class="no-link" href="/archives/cs193p_2021%E7%AC%94%E8%AE%B0%5B5%5D_Property-Wrapper/" target="_self" title="cs193p_2021ç¬”è®°[5]_Property-Wrapper">Older<i class="fa fa-chevron-right" aria-hidden="true"></i></a>
        </li>
        
    </ul>
</section>


    
    <script>
        var initValine = function() {
            new Valine({"enable": true, "el": "#vcomments", "appId": "7tP92LoqK2cggW61DvJmWBo0-gzGzoHsz", "appKey": "iQCtrtlr8eKrQllM03GMESMJ", "visitor": true, "recordIP": true});
        }

    </script>
    <script defer src='https://cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js' onload="initValine()"></script>
    <div class="prism-comment-section container" id="prism__comment">
        <div class="row">
            <div class="col-md-8 offset-md-2">
                <div id="vcomments"></div>
            </div>
        </div>
    </div>
    

</main>

            <footer id="prism__footer">
                <section>
                    <div>
                        <nav class="social-links">
                            <ul><li><a class="no-link" title="Twitter" href="https://twitter.com/walkerwzy" target="_blank" rel="noopener noreferrer nofollow"><i class="gi gi-twitter"></i></a></li><li><a class="no-link" title="GitHub" href="https://github.com/walkerwzy" target="_blank" rel="noopener noreferrer nofollow"><i class="gi gi-github"></i></a></li><li><a class="no-link" title="Weibo" href="https://weibo.com/1071696872" target="_blank" rel="noopener noreferrer nofollow"><i class="gi gi-weibo"></i></a></li></ul>
                        </nav>
                    </div>

                    <section id="prism__external_links">
                        <ul>
                            
                            <li>
                                <a class="no-link" target="_blank" href="https://github.com/AlanDecode/Maverick" rel="noopener noreferrer nofollow">Maverick</a>ï¼šğŸ„â€ Go My Own Way.
                                <span>|</span>
                            </li>
                            
                            <li>
                                <a class="no-link" target="_blank" href="https://www.imalan.cn" rel="noopener noreferrer nofollow">Triple NULL</a>ï¼šHome page for AlanDecode.
                                <span>|</span>
                            </li>
                            
                        </ul>
                    </section>

                    <div class="copyright">
                        <p class="copyright-text">
                            <span class="brand">walker's code blog</span>
                            <span>Copyright Â© 2022 AlanDecode</span>
                        </p>
                        <p class="copyright-text powered-by">
                            | Powered by <a href="https://github.com/AlanDecode/Maverick" class="no-link" target="_blank" rel="noopener noreferrer nofollow">Maverick</a> | Theme <a href="https://github.com/Reedo0910/Maverick-Theme-Prism" target="_blank" class="no-link" rel="noopener noreferrer nofollow">Prism</a>
                        </p>
                    </div>
                    <div class="footer-addon">
                        
                    </div>
                </section>
                <script>
                    var site_build_date = "2019-12-06T12:00+08:00"

                </script>
                <script src="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/assets/prism-efa8685153.js"></script>
            </footer>
        </div>
    </div>
    </div>

    <script src="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/assets/ExSearch/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/assets/ExSearch/ExSearch-493cb9cd89.js"></script>

    <!--katex-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/assets/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/assets/katex.min.js"></script>
    <script>
        mathOpts = {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "\\[", right: "\\]", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false }
            ]
        };

    </script>
    <script defer src="https://cdn.jsdelivr.net/gh/wzywalker/wzywalker.github.io@main/assets/auto-render.min.js" onload="renderMathInElement(document.body, mathOpts);"></script>

    
</body>

</html>